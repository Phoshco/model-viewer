(()=>{var e,n,i,a={36630:(e,n,i)=>{"use strict";var a=i(10492);class r{_canvas;_engine;_scene;_onTick;constructor(e){this._canvas=e.canvas,this._engine=e.engine,this._scene=null,this._onTick=null}static async Create(e,n){const i=new r(e);return i._scene=await i._initialize(e.sceneBuilder,n),i._onTick=i._makeOnTick(),i}run(){const e=this._engine;window.addEventListener("resize",this._onResize),e.runRenderLoop(this._onTick)}dispose(){window.removeEventListener("resize",this._onResize),this._engine.dispose()}_onResize=()=>{this._engine.resize()};async _initialize(e,n){return await e.build(this._canvas,this._engine,n)}_makeOnTick(){const e=this._scene;return()=>e.render()}}i(19679),i(25636),i(39382),i(49809),i(61318),i(2380),i(2051),i(55218),i(28010),i(96524),i(42186),i(27696),i(37118);var t=i(83582),o=i(17720),s=i(52046),l=i(71513),d=i(18595),m=i(15909),g=i(31088),p=i(28986),c=i(82781),y=i(26041),h=i(79923),u=i(78529),x=i(97328),b=i(88854),w=i(16582),T=i(65202),S=i(29794),C=i(66629),k=i(61823),_=i(98621),f=i(91111),v=i(8644),M=i(19269),G=i(70721),R=i(25736),L=i(58227),P=i(76562),F=(i(81046),i(12722));const H=JSON.parse('[{"_id":10000000,"name":"Paimon","weaponType":"Others","element":"Others","gender":"Others","rarity":5,"directory":"res/chars/Genshin/Paimon","image":"Genshin/Paimon.png","pmx":"派蒙1.0.pmx"},{"_id":10000001,"name":"Pom-Pom","weaponType":"Others","element":"Others","gender":"Others","rarity":5,"directory":"res/chars/HSR/Pom-Pom","image":"HSR/Pom-Pom.png","pmx":"Pom-Pom.pmx"},{"_id":10000002,"name":"Bangboo","weaponType":"Others","element":"Others","gender":"Others","rarity":5,"directory":"res/chars/ZZZ/Bangboo","image":"ZZZ/Bangboo.png","pmx":"邦布.pmx"}]'),Z=JSON.parse('[{"_id":10000027,"name":"Albedo","weaponType":"Sword","element":"Geo","gender":"Male","region":"Mondstadt","rarity":5,"directory":"res/chars/Genshin/Albedo","image":"Genshin/Albedo.png","pmx":"阿贝多.pmx"},{"_id":10000062,"name":"Alhaitham","weaponType":"Sword","element":"Dendro","gender":"Male","region":"Sumeru","rarity":5,"directory":"res/chars/Genshin/Alhaitham","image":"Genshin/Alhaitham.png","pmx":"艾尔海森.pmx"},{"_id":10000002,"name":"Amber","weaponType":"Bow","element":"Pyro","gender":"Female","region":"Mondstadt","rarity":4,"directory":"res/chars/Genshin/Amber/Amber","image":"Genshin/Amber.png","pmx":"安柏.pmx"},{"_id":10000043,"name":"Arataki Itto","weaponType":"Claymore","element":"Geo","gender":"Male","region":"Inazuma","rarity":5,"directory":"res/chars/Genshin/Arataki Itto","image":"Genshin/Arataki Itto.png","pmx":"荒泷一斗.pmx"},{"_id":10000080,"name":"Arlecchino","weaponType":"Polearm","element":"Pyro","gender":"Female","region":"Snezhnaya","rarity":5,"directory":"res/chars/Genshin/Arlecchino","image":"Genshin/Arlecchino.png","pmx":"仆人.pmx"},{"_id":10000066,"name":"Baizhu","weaponType":"Catalyst","element":"Dendro","gender":"Male","region":"Liyue","rarity":5,"directory":"res/chars/Genshin/Baizhu","image":"Genshin/Baizhu.png","pmx":"白术.pmx"},{"_id":10000003,"name":"Barbara","weaponType":"Catalyst","element":"Hydro","gender":"Female","region":"Mondstadt","rarity":4,"directory":"res/chars/Genshin/Barbara/Barbara","image":"Genshin/Barbara.png","pmx":"芭芭拉.pmx"},{"_id":10000004,"name":"Beidou","weaponType":"Claymore","element":"Electro","gender":"Female","region":"Liyue","rarity":4,"directory":"res/chars/Genshin/Beidou","image":"Genshin/Beidou.png","pmx":"北斗.pmx"},{"_id":10000005,"name":"Bennett","weaponType":"Sword","element":"Pyro","gender":"Male","region":"Mondstadt","rarity":4,"directory":"res/chars/Genshin/Bennett","image":"Genshin/Bennett.png","pmx":"班尼特.pmx"},{"_id":10000054,"name":"Candace","weaponType":"Polearm","element":"Hydro","gender":"Female","region":"Sumeru","rarity":4,"directory":"res/chars/Genshin/Candace","image":"Genshin/Candace.png","pmx":"坎蒂丝.pmx"},{"_id":10000073,"name":"Charlotte","weaponType":"Catalyst","element":"Cryo","gender":"Female","region":"Fontaine","rarity":4,"directory":"res/chars/Genshin/Charlotte","image":"Genshin/Charlotte.png","pmx":"夏洛蒂.pmx"},{"_id":10000076,"name":"Chevreuse","weaponType":"Polearm","element":"Pyro","gender":"Female","region":"Fontaine","rarity":4,"directory":"res/chars/Genshin/Chevreuse","image":"Genshin/Chevreuse.png","pmx":"夏沃蕾.pmx"},{"_id":10000079,"name":"Chiori","weaponType":"Sword","element":"Geo","gender":"Female","region":"Inazuma","rarity":5,"directory":"res/chars/Genshin/Chiori","image":"Genshin/Chiori.png","pmx":"千织.pmx"},{"_id":10000006,"name":"Chongyun","weaponType":"Claymore","element":"Cryo","gender":"Male","region":"Liyue","rarity":4,"directory":"res/chars/Genshin/Chongyun","image":"Genshin/Chongyun.png","pmx":"重云.pmx"},{"_id":10000081,"name":"Clorinde","weaponType":"Sword","element":"Electro","gender":"Female","region":"Fontaine","rarity":5,"directory":"res/chars/Genshin/Clorinde/Clorinde","image":"Genshin/Clorinde.png","pmx":"克洛琳德.pmx"},{"_id":10000051,"name":"Collei","weaponType":"Bow","element":"Dendro","gender":"Female","region":"Sumeru","rarity":4,"directory":"res/chars/Genshin/Collei/Collei","image":"Genshin/Collei.png","pmx":"柯莱.pmx"},{"_id":10000055,"name":"Cyno","weaponType":"Polearm","element":"Electro","gender":"Male","region":"Sumeru","rarity":5,"directory":"res/chars/Genshin/Cyno","image":"Genshin/Cyno.png","pmx":"赛诺.pmx"},{"_id":10000063,"name":"Dehya","weaponType":"Claymore","element":"Pyro","gender":"Female","region":"Sumeru","rarity":5,"directory":"res/chars/Genshin/Dehya","image":"Genshin/Dehya.png","pmx":"迪希雅.pmx"},{"_id":10000016,"name":"Diluc","weaponType":"Claymore","element":"Pyro","gender":"Male","region":"Mondstadt","rarity":5,"directory":"res/chars/Genshin/Diluc/Diluc","image":"Genshin/Diluc.png","pmx":"迪卢克.pmx"},{"_id":10000023,"name":"Diona","weaponType":"Bow","element":"Cryo","gender":"Female","region":"Mondstadt","rarity":4,"directory":"res/chars/Genshin/Diona","image":"Genshin/Diona.png","pmx":"迪奥娜.pmx"},{"_id":10000053,"name":"Dori","weaponType":"Claymore","element":"Electro","gender":"Female","region":"Sumeru","rarity":4,"directory":"res/chars/Genshin/Dori","image":"Genshin/Dori.png","pmx":"多莉.pmx"},{"_id":10000033,"name":"Eula","weaponType":"Claymore","element":"Cryo","gender":"Female","region":"Mondstadt","rarity":5,"directory":"res/chars/Genshin/Eula/Eula","image":"Genshin/Eula.png","pmx":"优菈.pmx"},{"_id":10000059,"name":"Faruzan","weaponType":"Bow","element":"Anemo","gender":"Female","region":"Sumeru","rarity":4,"directory":"res/chars/Genshin/Faruzan","image":"Genshin/Faruzan.png","pmx":"珐露珊.pmx"},{"_id":10000007,"name":"Fischl","weaponType":"Bow","element":"Electro","gender":"Female","region":"Mondstadt","rarity":4,"directory":"res/chars/Genshin/Fischl/Fischl","image":"Genshin/Fischl.png","pmx":"菲谢尔.pmx"},{"_id":10000070,"name":"Freminet","weaponType":"Claymore","element":"Cryo","gender":"Male","region":"Fontaine","rarity":4,"directory":"res/chars/Genshin/Freminet","image":"Genshin/Freminet.png","pmx":"菲米尼.pmx"},{"_id":10000074,"name":"Furina","weaponType":"Sword","element":"Hydro","gender":"Female","region":"Fontaine","rarity":5,"directory":"res/chars/Genshin/Furina/Furina","image":"Genshin/Furina.png","pmx":"【芙宁娜】.pmx"},{"_id":10000078,"name":"Gaming","weaponType":"Claymore","element":"Pyro","gender":"Male","region":"Liyue","rarity":4,"directory":"res/chars/Genshin/Gaming","image":"Genshin/Gaming.png","pmx":"嘉明.pmx"},{"_id":10000028,"name":"Ganyu","weaponType":"Bow","element":"Cryo","gender":"Female","region":"Liyue","rarity":5,"directory":"res/chars/Genshin/Ganyu/Ganyu","image":"Genshin/Ganyu.png","pmx":"甘雨.pmx"},{"_id":10000042,"name":"Gorou","weaponType":"Bow","element":"Geo","gender":"Male","region":"Inazuma","rarity":4,"directory":"res/chars/Genshin/Gorou/Gorou","image":"Genshin/Gorou.png","pmx":"五郎.pmx"},{"_id":10000030,"name":"Hu Tao","weaponType":"Polearm","element":"Pyro","gender":"Female","region":"Liyue","rarity":5,"directory":"res/chars/Genshin/Hu Tao","image":"Genshin/Hu Tao.png","pmx":"胡桃.pmx"},{"_id":10000017,"name":"Jean","weaponType":"Sword","element":"Anemo","gender":"Female","region":"Mondstadt","rarity":5,"directory":"res/chars/Genshin/Jean/Jean","image":"Genshin/Jean.png","pmx":"琴.pmx"},{"_id":10000034,"name":"Kaedehara Kazuha","weaponType":"Sword","element":"Anemo","gender":"Male","region":"Inazuma","rarity":5,"directory":"res/chars/Genshin/Kaedehara Kazuha","image":"Genshin/Kaedehara Kazuha.png","pmx":"万叶.pmx"},{"_id":10000008,"name":"Kaeya","weaponType":"Sword","element":"Cryo","gender":"Male","region":"Mondstadt","rarity":4,"directory":"res/chars/Genshin/Kaeya/Kaeya","image":"Genshin/Kaeya.png","pmx":"凯亚.pmx"},{"_id":10000035,"name":"Kamisato Ayaka","weaponType":"Sword","element":"Cryo","gender":"Female","region":"Inazuma","rarity":5,"directory":"res/chars/Genshin/Kamisato Ayaka/Kamisato Ayaka","image":"Genshin/Kamisato Ayaka.png","pmx":"神里绫华.pmx"},{"_id":10000047,"name":"Kamisato Ayato","weaponType":"Sword","element":"Hydro","gender":"Male","region":"Inazuma","rarity":5,"directory":"res/chars/Genshin/Kamisato Ayato/Kamisato Ayato","image":"Genshin/Kamisato Ayato.png","pmx":"神里绫人.pmx"},{"_id":10000065,"name":"Kaveh","weaponType":"Claymore","element":"Dendro","gender":"Male","region":"Sumeru","rarity":4,"directory":"res/chars/Genshin/Kaveh","image":"Genshin/Kaveh.png","pmx":"卡维.pmx"},{"_id":10000018,"name":"Keqing","weaponType":"Sword","element":"Electro","gender":"Female","region":"Liyue","rarity":5,"directory":"res/chars/Genshin/Keqing/Keqing","image":"Genshin/Keqing.png","pmx":"刻晴.pmx"},{"_id":10000067,"name":"Kirara","weaponType":"Sword","element":"Dendro","gender":"Female","region":"Inazuma","rarity":4,"directory":"res/chars/Genshin/Kirara/Kirara","image":"Genshin/Kirara.png","pmx":"绮良良.pmx"},{"_id":10000022,"name":"Klee","weaponType":"Catalyst","element":"Pyro","gender":"Female","region":"Mondstadt","rarity":5,"directory":"res/chars/Genshin/Klee/Klee","image":"Genshin/Klee.png","pmx":"可莉.pmx"},{"_id":10000038,"name":"Kujou Sara","weaponType":"Bow","element":"Electro","gender":"Female","region":"Inazuma","rarity":4,"directory":"res/chars/Genshin/Kujou Sara","image":"Genshin/Kujou Sara.png","pmx":"九条裟罗.pmx"},{"_id":10000049,"name":"Kuki Shinobu","weaponType":"Sword","element":"Electro","gender":"Female","region":"Inazuma","rarity":4,"directory":"res/chars/Genshin/Kuki Shinobu","image":"Genshin/Kuki Shinobu.png","pmx":"久岐忍.pmx"},{"_id":10000058,"name":"Layla","weaponType":"Sword","element":"Cryo","gender":"Female","region":"Sumeru","rarity":4,"directory":"res/chars/Genshin/Layla","image":"Genshin/Layla.png","pmx":"莱依拉.pmx"},{"_id":10000009,"name":"Lisa","weaponType":"Catalyst","element":"Electro","gender":"Female","region":"Mondstadt","rarity":4,"directory":"res/chars/Genshin/Lisa/Lisa","image":"Genshin/Lisa.png","pmx":"丽莎.pmx"},{"_id":10000068,"name":"Lynette","weaponType":"Sword","element":"Anemo","gender":"Female","region":"Fontaine","rarity":4,"directory":"res/chars/Genshin/Lynette/Lynette","image":"Genshin/Lynette.png","pmx":"【琳妮特】.pmx"},{"_id":10000069,"name":"Lyney","weaponType":"Bow","element":"Pyro","gender":"Male","region":"Fontaine","rarity":5,"directory":"res/chars/Genshin/Lyney/Lyney","image":"Genshin/Lyney.png","pmx":"林尼.pmx"},{"_id":10000064,"name":"Mika","weaponType":"Polearm","element":"Cryo","gender":"Male","region":"Mondstadt","rarity":4,"directory":"res/chars/Genshin/Mika","image":"Genshin/Mika.png","pmx":"米卡.pmx"},{"_id":10000019,"name":"Mona","weaponType":"Catalyst","element":"Hydro","gender":"Female","region":"Mondstadt","rarity":5,"directory":"res/chars/Genshin/Mona/Mona","image":"Genshin/Mona.png","pmx":"莫娜.pmx"},{"_id":10000057,"name":"Nahida","weaponType":"Catalyst","element":"Dendro","gender":"Female","region":"Sumeru","rarity":5,"directory":"res/chars/Genshin/Nahida","image":"Genshin/Nahida.png","pmx":"纳西妲.pmx"},{"_id":10000075,"name":"Navia","weaponType":"Claymore","element":"Geo","gender":"Female","region":"Fontaine","rarity":5,"directory":"res/chars/Genshin/Navia","image":"Genshin/Navia.png","pmx":"娜维娅.pmx"},{"_id":10000071,"name":"Neuvillette","weaponType":"Catalyst","element":"Hydro","gender":"Male","region":"Fontaine","rarity":5,"directory":"res/chars/Genshin/Neuvillette","image":"Genshin/Neuvillette.png","pmx":"那维莱特.pmx"},{"_id":10000056,"name":"Nilou","weaponType":"Sword","element":"Hydro","gender":"Female","region":"Sumeru","rarity":5,"directory":"res/chars/Genshin/Nilou/Nilou","image":"Genshin/Nilou.png","pmx":"妮露.pmx"},{"_id":10000010,"name":"Ningguang","weaponType":"Catalyst","element":"Geo","gender":"Female","region":"Liyue","rarity":4,"directory":"res/chars/Genshin/Ningguang/Ningguang","image":"Genshin/Ningguang.png","pmx":"凝光.pmx"},{"_id":10000011,"name":"Noelle","weaponType":"Claymore","element":"Geo","gender":"Female","region":"Mondstadt","rarity":4,"directory":"res/chars/Genshin/Noelle","image":"Genshin/Noelle.png","pmx":"诺艾尔.pmx"},{"_id":10000020,"name":"Qiqi","weaponType":"Sword","element":"Cryo","gender":"Female","region":"Liyue","rarity":5,"directory":"res/chars/Genshin/Qiqi/Qiqi","image":"Genshin/Qiqi.png","pmx":"七七.pmx"},{"_id":10000039,"name":"Raiden Shogun","weaponType":"Polearm","element":"Electro","gender":"Female","region":"Inazuma","rarity":5,"directory":"res/chars/Genshin/Raiden Shogun","image":"Genshin/Raiden Shogun.png","pmx":"雷电将军.pmx"},{"_id":10000012,"name":"Razor","weaponType":"Claymore","element":"Electro","gender":"Male","region":"Mondstadt","rarity":4,"directory":"res/chars/Genshin/Razor","image":"Genshin/Razor.png","pmx":"雷泽.pmx"},{"_id":10000031,"name":"Rosaria","weaponType":"Polearm","element":"Cryo","gender":"Female","region":"Mondstadt","rarity":4,"directory":"res/chars/Genshin/Rosaria","image":"Genshin/Rosaria.png","pmx":"罗莎莉亚.pmx"},{"_id":10000040,"name":"Sangonomiya Kokomi","weaponType":"Catalyst","element":"Hydro","gender":"Female","region":"Inazuma","rarity":5,"directory":"res/chars/Genshin/Sangonomiya Kokomi","image":"Genshin/Sangonomiya Kokomi.png","pmx":"珊瑚宫心海.pmx"},{"_id":10000036,"name":"Sayu","weaponType":"Claymore","element":"Anemo","gender":"Female","region":"Inazuma","rarity":4,"directory":"res/chars/Genshin/Sayu","image":"Genshin/Sayu.png","pmx":"早柚.pmx"},{"_id":10000082,"name":"Sethos","weaponType":"Bow","element":"Electro","gender":"Male","region":"Sumeru","rarity":4,"directory":"res/chars/Genshin/Sethos","image":"Genshin/Sethos.png","pmx":"赛索斯.pmx"},{"_id":10000045,"name":"Shenhe","weaponType":"Polearm","element":"Cryo","gender":"Female","region":"Liyue","rarity":5,"directory":"res/chars/Genshin/Shenhe/Shenhe","image":"Genshin/Shenhe.png","pmx":"申鹤.pmx"},{"_id":10000050,"name":"Shikanoin Heizou","weaponType":"Catalyst","element":"Anemo","gender":"Male","region":"Inazuma","rarity":4,"directory":"res/chars/Genshin/Shikanoin Heizou","image":"Genshin/Shikanoin Heizou.png","pmx":"鹿野院平藏.pmx"},{"_id":10000083,"name":"Sigewinne","weaponType":"Bow","element":"Hydro","gender":"Female","region":"Fontaine","rarity":5,"directory":"res/chars/Genshin/Sigewinne/Sigewinne","image":"Genshin/Sigewinne.png","pmx":"希格雯.pmx"},{"_id":10000013,"name":"Sucrose","weaponType":"Catalyst","element":"Anemo","gender":"Female","region":"Mondstadt","rarity":4,"directory":"res/chars/Genshin/Sucrose","image":"Genshin/Sucrose.png","pmx":"砂糖.pmx"},{"_id":10000024,"name":"Tartaglia","weaponType":"Bow","element":"Hydro","gender":"Male","region":"Snezhnaya","rarity":5,"directory":"res/chars/Genshin/Tartaglia","image":"Genshin/Tartaglia.png","pmx":"达达利亚.pmx"},{"_id":10000041,"name":"Thoma","weaponType":"Polearm","element":"Pyro","gender":"Male","region":"Inazuma","rarity":4,"directory":"res/chars/Genshin/Thoma","image":"Genshin/Thoma.png","pmx":"托马.pmx"},{"_id":10000052,"name":"Tighnari","weaponType":"Bow","element":"Dendro","gender":"Male","region":"Sumeru","rarity":5,"directory":"res/chars/Genshin/Tighnari/Tighnari","image":"Genshin/Tighnari.png","pmx":"提纳里.pmx"},{"_id":10000000,"name":"Aether","weaponType":"Sword","element":"Universal","gender":"Male","rarity":5,"directory":"res/chars/Genshin/Aether","image":"Genshin/Aether.png","pmx":"空.pmx"},{"_id":10000001,"name":"Lumine","weaponType":"Sword","element":"Universal","gender":"Female","rarity":5,"directory":"res/chars/Genshin/Lumine","image":"Genshin/Lumine.png","pmx":"荧.pmx"},{"_id":10000021,"name":"Venti","weaponType":"Bow","element":"Anemo","gender":"Male","region":"Mondstadt","rarity":5,"directory":"res/chars/Genshin/Venti","image":"Genshin/Venti.png","pmx":"温迪.pmx"},{"_id":10000060,"name":"Wanderer","weaponType":"Catalyst","element":"Anemo","gender":"Male","region":"Sumeru","rarity":5,"directory":"res/chars/Genshin/Wanderer","image":"Genshin/Wanderer.png","pmx":"流浪者.pmx"},{"_id":10000072,"name":"Wriothesley","weaponType":"Catalyst","element":"Cryo","gender":"Male","region":"Fontaine","rarity":5,"directory":"res/chars/Genshin/Wriothesley","image":"Genshin/Wriothesley.png","pmx":"莱欧斯利.pmx"},{"_id":10000014,"name":"Xiangling","weaponType":"Polearm","element":"Pyro","gender":"Female","region":"Liyue","rarity":4,"directory":"res/chars/Genshin/Xiangling","image":"Genshin/Xiangling.png","pmx":"香菱.pmx"},{"_id":10000077,"name":"Xianyun","weaponType":"Catalyst","element":"Anemo","gender":"Female","region":"Liyue","rarity":5,"directory":"res/chars/Genshin/Xianyun","image":"Genshin/Xianyun.png","pmx":"闲云.pmx"},{"_id":10000029,"name":"Xiao","weaponType":"Polearm","element":"Anemo","gender":"Male","region":"Liyue","rarity":5,"directory":"res/chars/Genshin/Xiao","image":"Genshin/Xiao.png","pmx":"魈.pmx"},{"_id":10000015,"name":"Xingqiu","weaponType":"Sword","element":"Hydro","gender":"Male","region":"Liyue","rarity":4,"directory":"res/chars/Genshin/Xingqiu/Xingqiu","image":"Genshin/Xingqiu.png","pmx":"行秋.pmx"},{"_id":10000025,"name":"Xinyan","weaponType":"Claymore","element":"Pyro","gender":"Female","region":"Liyue","rarity":4,"directory":"res/chars/Genshin/Xinyan","image":"Genshin/Xinyan.png","pmx":"辛焱.pmx"},{"_id":10000046,"name":"Yae Miko","weaponType":"Catalyst","element":"Electro","gender":"Female","region":"Inazuma","rarity":5,"directory":"res/chars/Genshin/Yae Miko","image":"Genshin/Yae Miko.png","pmx":"八重神子.pmx"},{"_id":10000032,"name":"Yanfei","weaponType":"Catalyst","element":"Pyro","gender":"Female","region":"Liyue","rarity":4,"directory":"res/chars/Genshin/Yanfei","image":"Genshin/Yanfei.png","pmx":"烟绯.pmx"},{"_id":10000061,"name":"Yaoyao","weaponType":"Polearm","element":"Dendro","gender":"Female","region":"Liyue","rarity":4,"directory":"res/chars/Genshin/Yaoyao","image":"Genshin/Yaoyao.png","pmx":"瑶瑶.pmx"},{"_id":10000048,"name":"Yelan","weaponType":"Bow","element":"Hydro","gender":"Female","region":"Liyue","rarity":5,"directory":"res/chars/Genshin/Yelan","image":"Genshin/Yelan.png","pmx":"夜兰.pmx"},{"_id":10000037,"name":"Yoimiya","weaponType":"Bow","element":"Pyro","gender":"Female","region":"Inazuma","rarity":5,"directory":"res/chars/Genshin/Yoimiya","image":"Genshin/Yoimiya.png","pmx":"宵宫.pmx"},{"_id":10000044,"name":"Yun Jin","weaponType":"Polearm","element":"Geo","gender":"Female","region":"Liyue","rarity":4,"directory":"res/chars/Genshin/Yun Jin","image":"Genshin/Yun Jin.png","pmx":"云堇.pmx"},{"_id":10000026,"name":"Zhongli","weaponType":"Polearm","element":"Geo","gender":"Male","region":"Liyue","rarity":5,"directory":"res/chars/Genshin/Zhongli","image":"Genshin/Zhongli.png","pmx":"钟离.pmx"},{"_id":10000084,"name":"Emilie","weaponType":"Polearm","element":"Dendro","gender":"Female","region":"Fontaine","rarity":5,"directory":"res/chars/Genshin/Emilie","image":"Genshin/Emilie.png","pmx":"艾梅莉埃.pmx"},{"_id":10000085,"name":"Kachina","weaponType":"Polearm","element":"Geo","gender":"Female","region":"Natlan","rarity":4,"directory":"res/chars/Genshin/Kachina","image":"Genshin/Kachina.png","pmx":"卡齐娜.pmx"},{"_id":10000086,"name":"Mualani","weaponType":"Catalyst","element":"Hydro","gender":"Female","region":"Natlan","rarity":5,"directory":"res/chars/Genshin/Mualani","image":"Genshin/Mualani.png","pmx":"玛拉妮.pmx"},{"_id":10000087,"name":"Kinich","weaponType":"Claymore","element":"Dendro","gender":"Male","region":"Natlan","rarity":5,"directory":"res/chars/Genshin/Kinich","image":"Genshin/Kinich.png","pmx":"基尼奇.pmx"},{"_id":10000088,"name":"Xilonen","weaponType":"Sword","element":"Geo","gender":"Female","region":"Natlan","rarity":5,"directory":"res/chars/Genshin/Xilonen","image":"Genshin/Xilonen.png","pmx":"希诺宁.pmx"},{"_id":10000089,"name":"Ororon","weaponType":"Bow","element":"Electro","gender":"Male","region":"Natlan","rarity":4,"directory":"res/chars/Genshin/Ororon","image":"Genshin/Ororon.png","pmx":"Ororon.pmx"},{"_id":10000090,"name":"Chasca","weaponType":"Bow","element":"Anemo","gender":"Female","region":"Natlan","rarity":5,"directory":"res/chars/Genshin/Chasca","image":"Genshin/Chasca.png","pmx":"恰斯卡.pmx"},{"_id":10000091,"name":"Citlali","weaponType":"Catalyst","element":"Cryo","gender":"Female","region":"Natlan","rarity":5,"directory":"res/chars/Genshin/Citlali","image":"Genshin/Citlali.png","pmx":"茜特拉莉.pmx"},{"_id":10000099,"name":"Mavuika","weaponType":"Sword","element":"Pyro","gender":"Female","region":"Natlan","rarity":5,"directory":"res/chars/Genshin/Mavuika","image":"Genshin/Mavuika.png","pmx":"玛薇卡.pmx"},{"_id":10000100,"name":"Iansan","weaponType":"Polearm","element":"Electro","gender":"Female","region":"Natlan","rarity":5,"directory":"res/chars/Genshin/Iansan","image":"Genshin/Iansan.png","pmx":"Iansan.pmx"},{"_id":1000000,"name":"Guizhong","weaponType":"Universal","element":"Universal","gender":"Female","rarity":6,"directory":"res/chars/Genshin/Guizhong","image":"Genshin/Guizhong.png","pmx":"FC式-归终.pmx"},{"_id":1000001,"name":"Skirk","weaponType":"Universal","element":"Universal","gender":"Female","rarity":6,"directory":"res/chars/Genshin/Skirk","image":"Genshin/Skirk.png","pmx":"丝柯克.pmx"},{"_id":1000002,"name":"Capitano","weaponType":"Universal","element":"Universal","gender":"Male","rarity":6,"directory":"res/chars/Genshin/Capitano","image":"Genshin/Capitano.png","pmx":"Capitano.pmx"},{"_id":1000003,"name":"Dottore","weaponType":"Universal","element":"Universal","gender":"Male","rarity":6,"directory":"res/chars/Genshin/Dottore","image":"Genshin/Dottore.png","pmx":"Dottore Model.pmx"}]'),A=JSON.parse('[{"_id":10000003,"name":"Barbara","weaponType":"Catalyst","element":"Hydro","gender":"Female","region":"Mondstadt","rarity":4,"directory":"res/chars/Genshin/Barbara/Skin","image":"Genshin/Barbara.png","pmx":"芭芭拉.pmx"},{"_id":10000016,"name":"Diluc","weaponType":"Claymore","element":"Pyro","gender":"Male","region":"Mondstadt","rarity":5,"directory":"res/chars/Genshin/Diluc/Skin","image":"Genshin/Diluc.png","pmx":"迪卢克.pmx"},{"_id":10000007,"name":"Fischl","weaponType":"Bow","element":"Electro","gender":"Female","region":"Mondstadt","rarity":4,"directory":"res/chars/Genshin/Fischl/Skin","image":"Genshin/Fischl.png","pmx":"菲谢尔.pmx"},{"_id":10000974,"name":"Furina","weaponType":"Sword","element":"Hydro","gender":"Female","region":"Fontaine","rarity":5,"directory":"res/chars/Genshin/Furina/Furina","image":"Genshin/Furina.png","pmx":"【芙宁娜_荒】.pmx"},{"_id":10000074,"name":"Furina","weaponType":"Sword","element":"Hydro","gender":"Female","region":"Fontaine","rarity":5,"directory":"res/chars/Genshin/Furina/Focalors","image":"Genshin/Furina.png","pmx":"芙卡洛斯.pmx"},{"_id":10000028,"name":"Ganyu","weaponType":"Bow","element":"Cryo","gender":"Female","region":"Liyue","rarity":5,"directory":"res/chars/Genshin/Ganyu/Skin1","image":"Genshin/Ganyu.png","pmx":"甘雨.pmx"},{"_id":10000928,"name":"Ganyu","weaponType":"Bow","element":"Cryo","gender":"Female","region":"Liyue","rarity":5,"directory":"res/chars/Genshin/Ganyu/Skin2","image":"Genshin/Ganyu.png","pmx":"甘雨.pmx"},{"_id":10000017,"name":"Jean","weaponType":"Sword","element":"Anemo","gender":"Female","region":"Mondstadt","rarity":5,"directory":"res/chars/Genshin/Jean/Skin","image":"Genshin/Jean.png","pmx":"琴.pmx"},{"_id":10000917,"name":"Jean","weaponType":"Sword","element":"Anemo","gender":"Female","region":"Mondstadt","rarity":5,"directory":"res/chars/Genshin/Jean/Skin1","image":"Genshin/Jean.png","pmx":"琴闲替衣装.pmx"},{"_id":10000008,"name":"Kaeya","weaponType":"Sword","element":"Cryo","gender":"Male","region":"Mondstadt","rarity":4,"directory":"res/chars/Genshin/Kaeya/Skin","image":"Genshin/Kaeya.png","pmx":"凯亚.pmx"},{"_id":10000035,"name":"Kamisato Ayaka","weaponType":"Sword","element":"Cryo","gender":"Female","region":"Inazuma","rarity":5,"directory":"res/chars/Genshin/Kamisato Ayaka/Skin","image":"Genshin/Kamisato Ayaka.png","pmx":"神里绫华.pmx"},{"_id":10000018,"name":"Keqing","weaponType":"Sword","element":"Electro","gender":"Female","region":"Liyue","rarity":5,"directory":"res/chars/Genshin/Keqing/Skin","image":"Genshin/Keqing.png","pmx":"刻晴.pmx"},{"_id":10000067,"name":"Kirara","weaponType":"Sword","element":"Dendro","gender":"Female","region":"Inazuma","rarity":4,"directory":"res/chars/Genshin/Kirara/Skin","image":"Genshin/Kirara.png","pmx":"绮良良.pmx"},{"_id":10000022,"name":"Klee","weaponType":"Catalyst","element":"Pyro","gender":"Female","region":"Mondstadt","rarity":5,"directory":"res/chars/Genshin/Klee/Skin","image":"Genshin/Klee.png","pmx":"可莉.pmx"},{"_id":10000009,"name":"Lisa","weaponType":"Catalyst","element":"Electro","gender":"Female","region":"Mondstadt","rarity":4,"directory":"res/chars/Genshin/Lisa/Skin","image":"Genshin/Lisa.png","pmx":"丽莎.pmx"},{"_id":10000068,"name":"Lynette","weaponType":"Sword","element":"Anemo","gender":"Female","region":"Fontaine","rarity":4,"directory":"res/chars/Genshin/Lynette/KFC","image":"Genshin/Lynette.png","pmx":"【琳妮特】.pmx"},{"_id":10000069,"name":"Lyney","weaponType":"Bow","element":"Pyro","gender":"Male","region":"Fontaine","rarity":5,"directory":"res/chars/Genshin/Lyney/KFC","image":"Genshin/Lyney.png","pmx":"林尼.pmx"},{"_id":10000019,"name":"Mona","weaponType":"Catalyst","element":"Hydro","gender":"Female","region":"Mondstadt","rarity":5,"directory":"res/chars/Genshin/Mona/Skin","image":"Genshin/Mona.png","pmx":"莫娜.pmx"},{"_id":10000056,"name":"Nilou","weaponType":"Sword","element":"Hydro","gender":"Female","region":"Sumeru","rarity":5,"directory":"res/chars/Genshin/Nilou/Skin","image":"Genshin/Nilou.png","pmx":"妮露.pmx"},{"_id":10000010,"name":"Ningguang","weaponType":"Catalyst","element":"Geo","gender":"Female","region":"Liyue","rarity":4,"directory":"res/chars/Genshin/Ningguang/Skin","image":"Genshin/Ningguang.png","pmx":"凝光.pmx"},{"_id":10000045,"name":"Shenhe","weaponType":"Polearm","element":"Cryo","gender":"Female","region":"Liyue","rarity":5,"directory":"res/chars/Genshin/Shenhe/Skin1","image":"Genshin/Shenhe.png","pmx":"申鹤.pmx"},{"_id":10000945,"name":"Shenhe","weaponType":"Polearm","element":"Cryo","gender":"Female","region":"Liyue","rarity":5,"directory":"res/chars/Genshin/Shenhe/Skin2","image":"Genshin/Shenhe.png","pmx":"申鹤.pmx"},{"_id":10000015,"name":"Xingqiu","weaponType":"Sword","element":"Hydro","gender":"Male","region":"Liyue","rarity":4,"directory":"res/chars/Genshin/Xingqiu/Skin","image":"Genshin/Xingqiu.png","pmx":"行秋.pmx"},{"_id":1000002,"name":"Amber","weaponType":"Bow","element":"Pyro","gender":"Female","region":"Mondstadt","rarity":4,"directory":"res/chars/Genshin/Amber/Skin1","image":"Genshin/Amber.png","pmx":"安柏.pmx"},{"_id":1000902,"name":"Amber","weaponType":"Bow","element":"Pyro","gender":"Female","region":"Mondstadt","rarity":4,"directory":"res/chars/Genshin/Amber/Skin2","image":"Genshin/Amber.png","pmx":"安柏闲替衣装.pmx"},{"_id":10000033,"name":"Eula","weaponType":"Claymore","element":"Cryo","gender":"Female","region":"Mondstadt","rarity":5,"directory":"res/chars/Genshin/Eula/Skin1","image":"Genshin/Eula.png","pmx":"优菈.pmx"},{"_id":10000935,"name":"Kamisato Ayaka","weaponType":"Sword","element":"Cryo","gender":"Female","region":"Inazuma","rarity":5,"directory":"res/chars/Genshin/Kamisato Ayaka/Skin2","image":"Genshin/Kamisato Ayaka.png","pmx":"神里绫华.pmx"},{"_id":10000047,"name":"Kamisato Ayato","weaponType":"Sword","element":"Hydro","gender":"Male","region":"Inazuma","rarity":5,"directory":"res/chars/Genshin/Kamisato Ayato/Skin1","image":"Genshin/Kamisato Ayato.png","pmx":"神里绫人.pmx"},{"_id":10000051,"name":"Collei","weaponType":"Bow","element":"Dendro","gender":"Female","region":"Sumeru","rarity":4,"directory":"res/chars/Genshin/Collei/Skin1","image":"Genshin/Collei.png","pmx":"柯莱.pmx"},{"_id":10000052,"name":"Tighnari","weaponType":"Bow","element":"Dendro","gender":"Male","region":"Sumeru","rarity":5,"directory":"res/chars/Genshin/Tighnari/Skin1","image":"Genshin/Tighnari.png","pmx":"提纳里.pmx"},{"_id":10000020,"name":"Qiqi","weaponType":"Sword","element":"Cryo","gender":"Female","region":"Liyue","rarity":5,"directory":"res/chars/Genshin/Qiqi/Skin1","image":"Genshin/Qiqi.png","pmx":"七七.pmx"},{"_id":10000042,"name":"Gorou","weaponType":"Bow","element":"Geo","gender":"Male","region":"Inazuma","rarity":4,"directory":"res/chars/Genshin/Gorou/Miss Hina","image":"Genshin/Gorou.png","pmx":"五郎.pmx"},{"_id":10000083,"name":"Sigewinne","weaponType":"Bow","element":"Hydro","gender":"Female","region":"Fontaine","rarity":5,"directory":"res/chars/Genshin/Sigewinne/Luckin","image":"Genshin/Sigewinne.png","pmx":"希格雯.pmx"},{"_id":10000081,"name":"Clorinde","weaponType":"Sword","element":"Electro","gender":"Female","region":"Fontaine","rarity":5,"directory":"res/chars/Genshin/Clorinde/Luckin","image":"Genshin/Clorinde.png","pmx":"克洛琳德.pmx"}]'),I=JSON.parse('[{"_id":10000001,"name":"Stelle","weaponType":"Universal","element":"Universal","gender":"Female","rarity":5,"directory":"res/chars/HSR/Stelle","image":"HSR/Stelle.png","pmx":"女主1.0.pmx"},{"_id":10000002,"name":"Caelus","weaponType":"Universal","element":"Universal","gender":"Male","rarity":5,"directory":"res/chars/HSR/Caelus","image":"HSR/Caelus.png","pmx":"男主1.0.pmx"},{"_id":10000003,"name":"Arlan","weaponType":"Destruction","element":"Lightning","gender":"Male","rarity":4,"directory":"res/chars/HSR/Arlan","image":"HSR/Arlan.png","pmx":"阿兰1.0.pmx"},{"_id":10000004,"name":"Asta","weaponType":"Harmony","element":"Fire","gender":"Female","rarity":4,"directory":"res/chars/HSR/Asta","image":"HSR/Asta.png","pmx":"星穹铁道—艾丝妲160.pmx"},{"_id":10000005,"name":"Bailu","weaponType":"Abundance","element":"Lightning","gender":"Female","rarity":5,"directory":"res/chars/HSR/Bailu","image":"HSR/Bailu.png","pmx":"白露1.0.pmx"},{"_id":10000006,"name":"Bronya","weaponType":"Harmony","element":"Wind","gender":"Female","rarity":5,"directory":"res/chars/HSR/Bronya","image":"HSR/Bronya.png","pmx":"布洛妮娅 1.0.pmx"},{"_id":10000007,"name":"Clara","weaponType":"Destruction","element":"Physical","gender":"Female","rarity":5,"directory":"res/chars/HSR/Clara","image":"HSR/Clara.png","pmx":"克拉拉.pmx"},{"_id":10000008,"name":"Dan Heng","weaponType":"The Hunt","element":"Wind","gender":"Male","rarity":4,"directory":"res/chars/HSR/Dan Heng","image":"HSR/Dan Heng.png","pmx":"丹恒.pmx"},{"_id":10000009,"name":"Gepard","weaponType":"Preservation","element":"Ice","gender":"Male","rarity":5,"directory":"res/chars/HSR/Gepard","image":"HSR/Gepard.png","pmx":"杰帕德.pmx"},{"_id":10000010,"name":"Herta","weaponType":"Erudition","element":"Ice","gender":"Female","rarity":4,"directory":"res/chars/HSR/Herta","image":"HSR/Herta.png","pmx":"黑塔.pmx"},{"_id":10000011,"name":"Himeko","weaponType":"Erudition","element":"Fire","gender":"Female","rarity":5,"directory":"res/chars/HSR/Himeko","image":"HSR/Himeko.png","pmx":"姬子2.0.pmx"},{"_id":10000012,"name":"Hook","weaponType":"Destruction","element":"Fire","gender":"Female","rarity":4,"directory":"res/chars/HSR/Hook","image":"HSR/Hook.png","pmx":"虎克.pmx"},{"_id":10000013,"name":"Jing Yuan","weaponType":"Erudition","element":"Lightning","gender":"Male","rarity":5,"directory":"res/chars/HSR/Jing Yuan","image":"HSR/Jing Yuan.png","pmx":"景元.pmx"},{"_id":10000014,"name":"March 7th","weaponType":"Preservation","element":"Ice","gender":"Female","rarity":4,"directory":"res/chars/HSR/March 7th/March 7th (Preservation)","image":"HSR/March 7th.png","pmx":"三月七 1.0.pmx"},{"_id":10000015,"name":"Natasha","weaponType":"Abundance","element":"Physical","gender":"Female","rarity":4,"directory":"res/chars/HSR/Natasha","image":"HSR/Natasha.png","pmx":"娜塔莎1.0.pmx"},{"_id":10000016,"name":"Pela","weaponType":"Nihility","element":"Ice","gender":"Female","rarity":4,"directory":"res/chars/HSR/Pela","image":"HSR/Pela.png","pmx":"佩拉.pmx"},{"_id":10000017,"name":"Qingque","weaponType":"Erudition","element":"Quantum","gender":"Female","rarity":4,"directory":"res/chars/HSR/Qingque","image":"HSR/Qingque.png","pmx":"青雀（分桦）.pmx"},{"_id":10000018,"name":"Sampo","weaponType":"Nihility","element":"Wind","gender":"Male","rarity":4,"directory":"res/chars/HSR/Sampo","image":"HSR/Sampo.png","pmx":"╔ú▓⌐.pmx"},{"_id":10000019,"name":"Seele","weaponType":"The Hunt","element":"Quantum","gender":"Female","rarity":5,"directory":"res/chars/HSR/Seele","image":"HSR/Seele.png","pmx":"希儿.pmx"},{"_id":10000020,"name":"Serval","weaponType":"Erudition","element":"Lightning","gender":"Female","rarity":4,"directory":"res/chars/HSR/Serval","image":"HSR/Serval.png","pmx":"希露瓦1.0.pmx"},{"_id":10000021,"name":"Sushang","weaponType":"The Hunt","element":"Physical","gender":"Female","rarity":4,"directory":"res/chars/HSR/Sushang","image":"HSR/Sushang.png","pmx":"李素裳1.0.pmx"},{"_id":10000022,"name":"Tingyun","weaponType":"Harmony","element":"Lightning","gender":"Female","rarity":4,"directory":"res/chars/HSR/Tingyun","image":"HSR/Tingyun.png","pmx":"停云.pmx"},{"_id":10000023,"name":"Welt","weaponType":"Nihility","element":"Imaginary","gender":"Male","rarity":5,"directory":"res/chars/HSR/Welt","image":"HSR/Welt.png","pmx":"瓦尔特·杨.pmx"},{"_id":10000024,"name":"Yanqing","weaponType":"The Hunt","element":"Ice","gender":"Male","rarity":5,"directory":"res/chars/HSR/Yanqing","image":"HSR/Yanqing.png","pmx":"彦卿1.0.pmx"},{"_id":10000025,"name":"Luocha","weaponType":"Abundance","element":"Imaginary","gender":"Male","rarity":5,"directory":"res/chars/HSR/Luocha","image":"HSR/Luocha.png","pmx":"罗刹.pmx"},{"_id":10000026,"name":"Silver Wolf","weaponType":"Nihility","element":"Quantum","gender":"Female","rarity":5,"directory":"res/chars/HSR/Silver Wolf","image":"HSR/Silver Wolf.png","pmx":"银狼.pmx"},{"_id":10000027,"name":"Yukong","weaponType":"Harmony","element":"Imaginary","gender":"Female","rarity":4,"directory":"res/chars/HSR/Yukong","image":"HSR/Yukong.png","pmx":"星穹铁道—驭空（改5）.pmx"},{"_id":10000028,"name":"Blade","weaponType":"Destruction","element":"Wind","gender":"Male","rarity":5,"directory":"res/chars/HSR/Blade","image":"HSR/Blade.png","pmx":"刃1.0.pmx"},{"_id":10000029,"name":"Kafka","weaponType":"Nihility","element":"Lightning","gender":"Female","rarity":5,"directory":"res/chars/HSR/Kafka","image":"HSR/Kafka.png","pmx":"卡芙卡.pmx"},{"_id":10000030,"name":"Luka","weaponType":"Nihility","element":"Physical","gender":"Female","rarity":4,"directory":"res/chars/HSR/Luka","image":"HSR/Luka.png","pmx":"卢卡（改.pmx"},{"_id":10000031,"name":"Imbibitor Lunae","weaponType":"Destruction","element":"Imaginary","gender":"Male","rarity":5,"directory":"res/chars/HSR/Imbibitor Lunae","image":"HSR/Imbibitor Lunae.png","pmx":"星穹铁道—饮月君1708.pmx"},{"_id":10000032,"name":"Fu Xuan","weaponType":"Preservation","element":"Quantum","gender":"Female","rarity":5,"directory":"res/chars/HSR/Fu Xuan","image":"HSR/Fu Xuan.png","pmx":"符玄（鞋+发饰补差145cm）(目修).pmx"},{"_id":10000033,"name":"Lynx","weaponType":"Abundance","element":"Quantum","gender":"Female","rarity":4,"directory":"res/chars/HSR/Lynx","image":"HSR/Lynx.png","pmx":"┴ß┐╔2.0.pmx"},{"_id":10000034,"name":"Guinaifen","weaponType":"Nihility","element":"Fire","gender":"Female","rarity":4,"directory":"res/chars/HSR/Guinaifen","image":"HSR/Guinaifen.png","pmx":"星穹铁道—桂乃芬.pmx"},{"_id":10000035,"name":"Jingliu","weaponType":"Destruction","element":"Ice","gender":"Female","rarity":5,"directory":"res/chars/HSR/Jingliu","image":"HSR/Jingliu.png","pmx":"镜流2.0.pmx"},{"_id":10000036,"name":"Topaz and Numby","weaponType":"The Hunt","element":"Fire","gender":"Female","rarity":5,"directory":"res/chars/HSR/Topaz and Numby","image":"HSR/Topaz and Numby.png","pmx":"═╨┼┴.pmx"},{"_id":10000037,"name":"Argenti","weaponType":"Erudition","element":"Physical","gender":"Male","rarity":5,"directory":"res/chars/HSR/Argenti","image":"HSR/Argenti.png","pmx":"星穹铁道—银枝3.pmx"},{"_id":10000038,"name":"Hanya","weaponType":"Harmony","element":"Physical","gender":"Female","rarity":4,"directory":"res/chars/HSR/Hanya","image":"HSR/Hanya.png","pmx":"║«╤╗3.0.pmx"},{"_id":10000039,"name":"Huohuo","weaponType":"Abundance","element":"Wind","gender":"Female","rarity":5,"directory":"res/chars/HSR/Huohuo","image":"HSR/Huohuo.png","pmx":"▐╜▐╜4.0.pmx"},{"_id":10000040,"name":"Dr. Ratio","weaponType":"The Hunt","element":"Imaginary","gender":"Male","rarity":5,"directory":"res/chars/HSR/Dr. Ratio","image":"HSR/Dr. Ratio.png","pmx":"星穹铁道—真理医生2.pmx"},{"_id":10000041,"name":"Ruan Mei","weaponType":"Harmony","element":"Ice","gender":"Female","rarity":5,"directory":"res/chars/HSR/Ruan Mei","image":"HSR/Ruan Mei.png","pmx":"╚εíñ├╖1.0.pmx"},{"_id":10000042,"name":"Xueyi","weaponType":"Destruction","element":"Quantum","gender":"Female","rarity":4,"directory":"res/chars/HSR/Xueyi","image":"HSR/Xueyi.png","pmx":"雪衣1.0.pmx"},{"_id":10000043,"name":"Black Swan","weaponType":"Nihility","element":"Wind","gender":"Female","rarity":5,"directory":"res/chars/HSR/Black Swan","image":"HSR/Black Swan.png","pmx":"星穹铁道—黑天鹅（优化）.pmx"},{"_id":10000044,"name":"Misha","weaponType":"Destruction","element":"Ice","gender":"Male","rarity":4,"directory":"res/chars/HSR/Misha","image":"HSR/Misha.png","pmx":"星穹铁道—米沙.pmx"},{"_id":10000045,"name":"Sparkle","weaponType":"Harmony","element":"Quantum","gender":"Female","rarity":5,"directory":"res/chars/HSR/Sparkle","image":"HSR/Sparkle.png","pmx":"╗¿╗≡3.0.pmx"},{"_id":10000046,"name":"Acheron","weaponType":"Nihility","element":"Lightning","gender":"Female","rarity":5,"directory":"res/chars/HSR/Acheron/Acheron","image":"HSR/Acheron.png","pmx":"星穹铁道—黄泉（轴修复）.pmx"},{"_id":10000047,"name":"Aventurine","weaponType":"Preservation","element":"Imaginary","gender":"Female","rarity":5,"directory":"res/chars/HSR/Aventurine","image":"HSR/Aventurine.png","pmx":"星穹铁道—砂金9.pmx"},{"_id":10000048,"name":"Gallagher","weaponType":"Abundance","element":"Fire","gender":"Male","rarity":4,"directory":"res/chars/HSR/Gallagher","image":"HSR/Gallagher.png","pmx":"星穹铁道—加拉赫.pmx"},{"_id":10000049,"name":"Boothill","weaponType":"The Hunt","element":"Physical","gender":"Male","rarity":5,"directory":"res/chars/HSR/Boothill","image":"HSR/Boothill.png","pmx":"星穹铁道—波提欧2.pmx"},{"_id":10000050,"name":"Robin","weaponType":"Harmony","element":"Physical","gender":"Female","rarity":5,"directory":"res/chars/HSR/Robin","image":"HSR/Robin.png","pmx":"星穹铁道—知更鸟（改）.pmx"},{"_id":10000051,"name":"Firefly","weaponType":"Destruction","element":"Fire","gender":"Female","rarity":5,"directory":"res/chars/HSR/Firefly/Firefly","image":"HSR/Firefly.png","pmx":"流萤3.0.pmx"},{"_id":10000052,"name":"Jade","weaponType":"Erudition","element":"Quantum","gender":"Female","rarity":5,"directory":"res/chars/HSR/Jade","image":"HSR/Jade.png","pmx":"星穹铁道—翡翠.pmx"},{"_id":10000053,"name":"March 7th (The Hunt)","weaponType":"The Hunt","element":"Imaginary","gender":"Female","rarity":4,"directory":"res/chars/HSR/March 7th/March 7th (The Hunt)","image":"HSR/March 7th (The Hunt).png","pmx":"星穹铁道—三月七3.pmx"},{"_id":10000054,"name":"Yunli","weaponType":"Destruction","element":"Physical","gender":"Female","rarity":5,"directory":"res/chars/HSR/Yunli","image":"HSR/Yunli.png","pmx":"星穹铁道—云璃2.pmx"},{"_id":10000055,"name":"Jiaoqiu","weaponType":"Nihility","element":"Fire","gender":"Male","rarity":5,"directory":"res/chars/HSR/Jiaoqiu","image":"HSR/Jiaoqiu.png","pmx":"星穹铁道—椒丘2.pmx"},{"_id":10000056,"name":"Moze","weaponType":"The Hunt","element":"Lightning","gender":"Male","rarity":4,"directory":"res/chars/HSR/Moze","image":"HSR/Moze.png","pmx":"貘泽.pmx"},{"_id":10000057,"name":"Feixiao","weaponType":"The Hunt","element":"Wind","gender":"Female","rarity":5,"directory":"res/chars/HSR/Feixiao/Feixiao","image":"HSR/Feixiao.png","pmx":"飞霄2.0.pmx"},{"_id":10000058,"name":"Lingsha","weaponType":"Abundance","element":"Fire","gender":"Female","rarity":5,"directory":"res/chars/HSR/Lingsha","image":"HSR/Lingsha.png","pmx":"霊砂.pmx"},{"_id":10000059,"name":"Rappa","weaponType":"Erudition","element":"Imaginary","gender":"Female","rarity":5,"directory":"res/chars/HSR/Rappa","image":"HSR/Rappa.png","pmx":"星穹铁道—乱破.pmx"},{"_id":10000060,"name":"Sunday","weaponType":"Harmony","element":"Imaginary","gender":"Male","rarity":5,"directory":"res/chars/HSR/Sunday","image":"HSR/Sunday.png","pmx":"星穹铁道—星期日2.pmx"},{"_id":10000061,"name":"Fugue","weaponType":"Nihility","element":"Fire","gender":"Female","rarity":5,"directory":"res/chars/HSR/Fugue","image":"HSR/Fugue.png","pmx":"星穹铁道—忘归人.pmx"},{"_id":1000001,"name":"Mr. Reca","weaponType":"Universal","element":"Universal","gender":"Male","rarity":6,"directory":"res/chars/HSR/Mr. Reca","image":"HSR/Mr. Reca.png","pmx":"芮克七代.pmx"}]'),O=JSON.parse('[{"_id":10000014,"name":"March 7th","weaponType":"Preservation","element":"Ice","gender":"Female","rarity":4,"directory":"res/chars/HSR/March 7th/Skin1","image":"HSR/March 7th.png","pmx":"三月七.pmx"},{"_id":10000046,"name":"Acheron","weaponType":"Nihility","element":"Lightning","gender":"Female","rarity":5,"directory":"res/chars/HSR/Acheron/Acheron - Red Form","image":"HSR/Acheron.png","pmx":"星穹铁道—黄泉（轴修复）.pmx"},{"_id":10000057,"name":"Feixiao","weaponType":"The Hunt","element":"Wind","gender":"Female","rarity":5,"directory":"res/chars/HSR/Feixiao/Nocape","image":"HSR/Feixiao.png","pmx":"星穹铁道—飞霄（无外套）.pmx"}]'),N=JSON.parse('[{"_id":10000000,"name":"Belle","weaponType":"Universal","element":"Universal","gender":"Female","region":"Proxies","rarity":5,"directory":"res/chars/ZZZ/Belle","image":"ZZZ/Belle.png","pmx":"铃.pmx"},{"_id":10000001,"name":"Wise","weaponType":"Universal","element":"Universal","gender":"Male","region":"Proxies","rarity":5,"directory":"res/chars/ZZZ/Wise","image":"ZZZ/Wise.png","pmx":"哲.pmx"},{"_id":10000002,"name":"Rina","weaponType":"Support","element":"Electric","gender":"Female","region":"Victoria Housekeeping","rarity":5,"directory":"res/chars/ZZZ/Rina","image":"ZZZ/Rina.png","pmx":"亚历山德丽娜.bpmx"},{"_id":10000003,"name":"Anby","weaponType":"Stun","element":"Electric","gender":"Female","region":"Cunning Hares","rarity":4,"directory":"res/chars/ZZZ/Anby","image":"ZZZ/Anby.png","pmx":"安比.pmx"},{"_id":10000004,"name":"Anton","weaponType":"Attack","element":"Electric","gender":"Male","region":"Belobog Heavy Industries","rarity":4,"directory":"res/chars/ZZZ/Anton","image":"ZZZ/Anton.png","pmx":"安东.pmx"},{"_id":10000005,"name":"Ben","weaponType":"Defense","element":"Fire","gender":"Male","region":"Belobog Heavy Industries","rarity":4,"directory":"res/chars/ZZZ/Ben","image":"ZZZ/Ben.png","pmx":"本.bpmx"},{"_id":10000006,"name":"Billy","weaponType":"Attack","element":"Physical","gender":"Male","region":"Cunning Hares","rarity":4,"directory":"res/chars/ZZZ/Billy","image":"ZZZ/Billy.png","pmx":"比利.pmx"},{"_id":10000007,"name":"Corin","weaponType":"Attack","element":"Physical","gender":"Female","region":"Victoria Housekeeping","rarity":4,"directory":"res/chars/ZZZ/Corin","image":"ZZZ/Corin.png","pmx":"可琳.pmx"},{"_id":10000008,"name":"Ellen","weaponType":"Attack","element":"Ice","gender":"Female","region":"Victoria Housekeeping","rarity":5,"directory":"res/chars/ZZZ/Ellen","image":"ZZZ/Ellen.png","pmx":"艾莲.pmx"},{"_id":10000009,"name":"Grace","weaponType":"Anomaly","element":"Electric","gender":"Female","region":"Belobog Heavy Industries","rarity":5,"directory":"res/chars/ZZZ/Grace","image":"ZZZ/Grace.png","pmx":"格莉丝.pmx"},{"_id":10000010,"name":"Koleda","weaponType":"Stun","element":"Fire","gender":"Female","region":"Belobog Heavy Industries","rarity":5,"directory":"res/chars/ZZZ/Koleda","image":"ZZZ/Koleda.png","pmx":"珂雷妲.pmx"},{"_id":10000011,"name":"Lucy","weaponType":"Support","element":"Fire","gender":"Female","region":"Sons of Calydon","rarity":4,"directory":"res/chars/ZZZ/Lucy","image":"ZZZ/Lucy.png","pmx":"露西_帽.pmx"},{"_id":10000012,"name":"Nekomata","weaponType":"Attack","element":"Physical","gender":"Female","region":"Cunning Hares","rarity":5,"directory":"res/chars/ZZZ/Nekomata","image":"ZZZ/Nekomata.png","pmx":"猫又.pmx"},{"_id":10000013,"name":"Nicole","weaponType":"Support","element":"Ether","gender":"Female","region":"Cunning Hares","rarity":4,"directory":"res/chars/ZZZ/Nicole","image":"ZZZ/Nicole.png","pmx":"妮可.pmx"},{"_id":10000014,"name":"Piper","weaponType":"Anomaly","element":"Physical","gender":"Female","region":"Sons of Calydon","rarity":4,"directory":"res/chars/ZZZ/Piper","image":"ZZZ/Piper.png","pmx":"派派.pmx"},{"_id":10000015,"name":"Soldier 11","weaponType":"Attack","element":"Fire","gender":"Female","region":"Obol Squad","rarity":5,"directory":"res/chars/ZZZ/Soldier 11","image":"ZZZ/Soldier 11.png","pmx":"11号.pmx"},{"_id":10000016,"name":"Soukaku","weaponType":"Support","element":"Ice","gender":"Female","region":"Section 6","rarity":4,"directory":"res/chars/ZZZ/Soukaku","image":"ZZZ/Soukaku.png","pmx":"苍角.pmx"},{"_id":10000017,"name":"Lycaon","weaponType":"Stun","element":"Ice","gender":"Male","region":"Proxies","rarity":5,"directory":"res/chars/ZZZ/Lycaon","image":"ZZZ/Lycaon.png","pmx":"莱卡恩.pmx"},{"_id":10000018,"name":"Zhu Yuan","weaponType":"Attack","element":"Ether","gender":"Female","region":"Criminal Investigation Special Response Team","rarity":5,"directory":"res/chars/ZZZ/Zhu Yuan","image":"ZZZ/Zhu Yuan.png","pmx":"朱鸢.pmx"},{"_id":10000019,"name":"Qingyi","weaponType":"Stun","element":"Electric","gender":"Female","region":"Criminal Investigation Special Response Team","rarity":5,"directory":"res/chars/ZZZ/Qingyi","image":"ZZZ/Qingyi.png","pmx":"Qingyi.pmx"},{"_id":10000020,"name":"Jane Doe","weaponType":"Anomaly","element":"Physical","gender":"Female","region":"Faction Unknown","rarity":5,"directory":"res/chars/ZZZ/Jane Doe","image":"ZZZ/Jane Doe.png","pmx":"简.pmx"},{"_id":10000021,"name":"Seth Lowell","weaponType":"Defense","element":"Electric","gender":"Male","region":"Criminal Investigation Special Response Team","rarity":4,"directory":"res/chars/ZZZ/Seth Lowell","image":"ZZZ/Seth Lowell.png","pmx":"赛斯.pmx"},{"_id":10000022,"name":"Caesar King","weaponType":"Defense","element":"Physical","gender":"Female","region":"Sons of Calydon","rarity":5,"directory":"res/chars/ZZZ/Caesar King","image":"ZZZ/Caesar King.png","pmx":"凯撒.pmx"},{"_id":10000023,"name":"Burnice White","weaponType":"Anomaly","element":"Fire","gender":"Female","region":"Sons of Calydon","rarity":5,"directory":"res/chars/ZZZ/Burnice White","image":"ZZZ/Burnice White.png","pmx":"柏妮思.pmx"},{"_id":10000024,"name":"Tsukishiro Yanagi","weaponType":"Anomaly","element":"Electric","gender":"Female","region":"Section 6","rarity":5,"directory":"res/chars/ZZZ/Tsukishiro Yanagi","image":"ZZZ/Tsukishiro Yanagi.png","pmx":"柳.pmx"},{"_id":10000025,"name":"Lighter","weaponType":"Stun","element":"Fire","gender":"Male","region":"Sons of Calydon","rarity":5,"directory":"res/chars/ZZZ/Lighter","image":"ZZZ/Lighter.png","pmx":"莱特.pmx"},{"_id":1000000,"name":"Hoshimi Miyabi","weaponType":"Support","element":"Ice","gender":"Female","region":"Section 6","rarity":6,"directory":"res/chars/ZZZ/Hoshimi Miyabi","image":"ZZZ/Hoshimi Miyabi.png","pmx":"Hoshimi Miyabi.bpmx"}]');var E=i(86326);class D{loadingUIBackgroundColor;loadingUIText;constructor(e,n="Loading",i="black"){this._renderingCanvas=e,this._loadingText=n,this._loadingDivBackgroundColor=i,this._resizeLoadingUI=()=>{const e=this._renderingCanvas.getBoundingClientRect(),n=window.getComputedStyle(this._renderingCanvas).position;this._loadingDiv&&(this._loadingDiv.style.position="fixed"===n?"fixed":"absolute",this._loadingDiv.style.left=e.left+"px",this._loadingDiv.style.top=e.top+"px",this._loadingDiv.style.width=e.width+"px",this._loadingDiv.style.height=e.height+"px")}}displayLoadingUI(){if(this._loadingDiv)return;this._loadingDiv=document.createElement("div"),this._loadingDiv.id="babylonjsLoadingDiv",this._loadingDiv.style.opacity="0",this._loadingDiv.style.transition="opacity 1.5s ease",this._loadingDiv.style.pointerEvents="none",this._loadingDiv.style.display="grid",this._loadingDiv.style.gridTemplateRows="100%",this._loadingDiv.style.gridTemplateColumns="100%",this._loadingDiv.style.justifyItems="center",this._loadingDiv.style.alignItems="center",this.loadingTextDiv=document.createElement("div"),this.loadingTextDiv.style.position="absolute",this.loadingTextDiv.style.left="0",this.loadingTextDiv.style.top="50%",this.loadingTextDiv.style.marginTop="80px",this.loadingTextDiv.style.width="100%",this.loadingTextDiv.style.height="20px",this.loadingTextDiv.style.fontFamily="Arial",this.loadingTextDiv.style.fontSize="14px",this.loadingTextDiv.style.color="white",this.loadingTextDiv.style.textAlign="center",this.loadingTextDiv.style.zIndex="1",this.loadingTextDiv.innerHTML="Loading",this._loadingDiv.appendChild(this.loadingTextDiv),this.loadingTextDiv.innerHTML=this._loadingText,this._style=document.createElement("style"),this._style.type="text/css",this._style.innerHTML="@-webkit-keyframes spin1 {                    0% { -webkit-transform: rotate(0deg);}\n                    100% { -webkit-transform: rotate(360deg);}\n                }                @keyframes spin1 {                    0% { transform: rotate(0deg);}\n                    100% { transform: rotate(360deg);}\n                }",document.getElementsByTagName("head")[0].appendChild(this._style);const e=!!window.SVGSVGElement,n=new Image,i=["paimon_load","kururin","guinaifen","furina","bangboo"];n.src="res/assets/loads/"+i[Math.floor(Math.random()*i.length)]+".gif",n.style.width="150px",n.style.gridColumn="1",n.style.gridRow="1",n.style.top="50%",n.style.left="50%",n.style.transform="translate(-50%, -50%)",n.style.position="absolute";const a=document.createElement("div");a.style.width="300px",a.style.gridColumn="1",a.style.gridRow="1",a.style.top="50%",a.style.left="50%",a.style.transform="translate(-50%, -50%)",a.style.position="absolute";const r=new Image;if(r.src=D.DefaultSpinnerUrl?D.DefaultSpinnerUrl:e?"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzOTIgMzkyIj48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6I2UwNjg0Yjt9LmNscy0ye2ZpbGw6bm9uZTt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPlNwaW5uZXJJY29uPC90aXRsZT48ZyBpZD0iTGF5ZXJfMiIgZGF0YS1uYW1lPSJMYXllciAyIj48ZyBpZD0iU3Bpbm5lciI+PHBhdGggY2xhc3M9ImNscy0xIiBkPSJNNDAuMjEsMTI2LjQzYzMuNy03LjMxLDcuNjctMTQuNDQsMTItMjEuMzJsMy4zNi01LjEsMy41Mi01YzEuMjMtMS42MywyLjQxLTMuMjksMy42NS00LjkxczIuNTMtMy4yMSwzLjgyLTQuNzlBMTg1LjIsMTg1LjIsMCwwLDEsODMuNCw2Ny40M2EyMDgsMjA4LDAsMCwxLDE5LTE1LjY2YzMuMzUtMi40MSw2Ljc0LTQuNzgsMTAuMjUtN3M3LjExLTQuMjgsMTAuNzUtNi4zMmM3LjI5LTQsMTQuNzMtOCwyMi41My0xMS40OSwzLjktMS43Miw3Ljg4LTMuMywxMi00LjY0YTEwNC4yMiwxMDQuMjIsMCwwLDEsMTIuNDQtMy4yMyw2Mi40NCw2Mi40NCwwLDAsMSwxMi43OC0xLjM5QTI1LjkyLDI1LjkyLDAsMCwxLDE5NiwyMS40NGE2LjU1LDYuNTUsMCwwLDEsMi4wNSw5LDYuNjYsNi42NiwwLDAsMS0xLjY0LDEuNzhsLS40MS4yOWEyMi4wNywyMi4wNywwLDAsMS01Ljc4LDMsMzAuNDIsMzAuNDIsMCwwLDEtNS42NywxLjYyLDM3LjgyLDM3LjgyLDAsMCwxLTUuNjkuNzFjLTEsMC0xLjkuMTgtMi44NS4yNmwtMi44NS4yNHEtNS43Mi41MS0xMS40OCwxLjFjLTMuODQuNC03LjcxLjgyLTExLjU4LDEuNGExMTIuMzQsMTEyLjM0LDAsMCwwLTIyLjk0LDUuNjFjLTMuNzIsMS4zNS03LjM0LDMtMTAuOTQsNC42NHMtNy4xNCwzLjUxLTEwLjYsNS41MUExNTEuNiwxNTEuNiwwLDAsMCw2OC41Niw4N0M2Ny4yMyw4OC40OCw2Niw5MCw2NC42NCw5MS41NnMtMi41MSwzLjE1LTMuNzUsNC43M2wtMy41NCw0LjljLTEuMTMsMS42Ni0yLjIzLDMuMzUtMy4zMyw1YTEyNywxMjcsMCwwLDAtMTAuOTMsMjEuNDksMS41OCwxLjU4LDAsMSwxLTMtMS4xNVM0MC4xOSwxMjYuNDcsNDAuMjEsMTI2LjQzWiIvPjxyZWN0IGNsYXNzPSJjbHMtMiIgd2lkdGg9IjM5MiIgaGVpZ2h0PSIzOTIiLz48L2c+PC9nPjwvc3ZnPg==":"https://cdn.babylonjs.com/Assets/loadingIcon.png",r.style.animation="spin1 0.75s infinite linear",r.style.webkitAnimation="spin1 0.75s infinite linear",r.style.transformOrigin="50% 50%",r.style.webkitTransformOrigin="50% 50%",!e){const e={w:16,h:18.5},i={w:30,h:30};n.style.width=`${e.w}vh`,n.style.height=`${e.h}vh`,n.style.left=`calc(50% - ${e.w/2}vh)`,n.style.top=`calc(50% - ${e.h/2}vh)`,r.style.width=`${i.w}vh`,r.style.height=`${i.h}vh`,r.style.left=`calc(50% - ${i.w/2}vh)`,r.style.top=`calc(50% - ${i.h/2}vh)`}a.appendChild(r),this._loadingDiv.appendChild(n),this._loadingDiv.appendChild(a),this._resizeLoadingUI(),window.addEventListener("resize",this._resizeLoadingUI),this._loadingDiv.style.backgroundColor=this._loadingDivBackgroundColor,document.body.appendChild(this._loadingDiv),this._loadingDiv.style.opacity="1"}hideLoadingUI(){this._loadingDiv&&(this._loadingDiv.style.opacity="0",this._loadingDiv.addEventListener("transitionend",(()=>{this.loadingTextDiv&&(this.loadingTextDiv.remove(),this.loadingTextDiv=null),this._loadingDiv&&(this._loadingDiv.remove(),this._loadingDiv=null),this._style&&(this._style.remove(),this._style=null),window.removeEventListener("resize",this._resizeLoadingUI)})))}set loadingUIText(e){this._loadingText=e,this.loadingTextDiv&&(this.loadingTextDiv.innerHTML=this._loadingText)}get loadingUIText(){return this._loadingText}get loadingUIBackgroundColor(){return this._loadingDivBackgroundColor}set loadingUIBackgroundColor(e){this._loadingDivBackgroundColor=e,this._loadingDiv&&(this._loadingDiv.style.backgroundColor=this._loadingDivBackgroundColor)}}E.$.DefaultLoadingScreenFactory=e=>new D(e);var B,V=i(2527);!function(e){e[e.Seconds=0]="Seconds",e[e.Frames=1]="Frames"}(B||(B={}));class z extends V.h{_isMobile;_speedlabel;constructor(e,n,i,a=!1){super(e,n,i),this._speedlabel=null,this._isMobile=a,this._mobileRemoval()}_mobileRemoval(){if(this._isMobile){const e=document.getElementById("plrc"),n=document.getElementById("sLa"),i=document.getElementById("sLi");e.removeChild(n),e.removeChild(i)}}_createPlayerControl(e,n,i){const a=e.ownerDocument,r=this._playerContainer=a.createElement("div");r.style.position="relative",r.style.bottom="120px",r.style.left="0",r.style.width="100%",r.style.height="120px",r.style.transform="translateY(50%)",r.style.transition="transform 0.5s",e.appendChild(r),r.onmouseenter=this._onPlayerControlMouseEnter,r.onmouseleave=this._onPlayerControlMouseLeave;{const t=a.createElement("div");t.style.position="absolute",t.style.bottom="0",t.style.left="0",t.style.width="100%",t.style.height="50%",t.style.boxSizing="border-box",t.style.background="linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.6))",t.style.display="flex",t.style.flexDirection="column",r.appendChild(t);{const r=a.createElement("div");r.style.width="100%",r.style.boxSizing="border-box",r.style.display="flex",r.style.flexDirection="row",r.style.alignItems="center",t.appendChild(r);{const e=this._timeSlider=a.createElement("input");e.style.width="100%",e.style.height="4px",e.style.border="none",e.style.opacity="0.5",e.type="range",e.min="0",e.max=n.animationFrameTimeDuration.toString(),e.oninput=i=>{i.preventDefault(),n.seekAnimation(Number(e.value),!0)};{let i=!1;e.onmousedown=()=>{n.isAnimationPlaying&&(n.pauseAnimation(),i=!0)},e.onmouseup=()=>{i&&(n.playAnimation(),i=!1)}}r.appendChild(e)}const o=a.createElement("div");o.style.width="100%",o.style.flexGrow="1",o.style.padding="0 5px",o.style.boxSizing="border-box",o.style.display="flex",o.style.flexDirection="row",o.style.alignItems="space-between",t.appendChild(o);{const r=a.createElement("div");r.style.flex="1",r.style.display="flex",r.style.flexDirection="row",r.style.alignItems="center",o.appendChild(r);{const e=this._playButton=a.createElement("button");if(e.style.width="40px",e.style.border="none",e.style.backgroundColor="rgba(0, 0, 0, 0)",e.style.color="white",e.style.fontSize="18px",e.innerText=n.isAnimationPlaying?"❚❚":"▶",e.onclick=()=>{n.isAnimationPlaying?n.pauseAnimation():n.playAnimation()},r.appendChild(e),void 0!==i){const e=this._soundButton=a.createElement("button");e.style.width="35px",e.style.border="none",e.style.backgroundColor="rgba(0, 0, 0, 0)",e.style.color="white",e.style.fontSize="20px",e.innerText=i.muted?"🔇":"🔊",e.onclick=()=>{i.muted?i.unmute():i.mute()},r.appendChild(e);const n=this._volumeSlider=a.createElement("input");n.style.width="80px",n.style.height="4px",n.style.border="none",n.style.opacity="0.5",n.type="range",n.min="0",n.max="1",n.step="0.01",n.value=i.volume.toString(),n.oninput=()=>{i.volume=Number(n.value)},r.appendChild(n)}const t=this._currentFrameNumberSpan=a.createElement("span");t.style.width="40px",t.style.textAlign="right",t.style.color="white",t.innerText=this.displayTimeFormat===B.Seconds?this._getFormattedTime(n.currentTime):Math.floor(n.currentFrameTime).toString(),r.appendChild(t);const o=this._endFrameNumberSpan=a.createElement("span");o.style.width="50px",o.style.textAlign="left",o.style.color="white",o.innerHTML="&nbsp;/&nbsp;"+(this.displayTimeFormat===B.Seconds?this._getFormattedTime(n.animationDuration):Math.floor(n.animationFrameTimeDuration).toString()),r.appendChild(o)}const t=a.createElement("div");t.style.flex="1",t.style.display="flex",t.style.flexDirection="row",t.style.alignItems="center",t.style.justifyContent="flex-end",t.id="plrc",o.appendChild(t);{const i=this._speedlabel=a.createElement("label");i.style.width="40px",i.style.textAlign="center",i.style.color="white",i.innerText="1.00x",i.id="sLa",t.appendChild(i);const r=this._speedSlider=a.createElement("input");r.style.width="80px",r.style.height="4px",r.style.border="none",r.style.opacity="0.5",r.type="range",r.min="0.07",r.max="1",r.step="0.01",r.id="sLi",r.value=n.timeScale.toString(),r.oninput=()=>{n.timeScale=Number(r.value),i.innerText=n.timeScale.toFixed(2)+"x"},t.appendChild(r);const o=this._fullscreenButton=a.createElement("button");o.style.width="40px",o.style.border="none",o.style.color="white",o.style.backgroundColor="rgba(0, 0, 0, 0)",o.style.fontSize="20px",o.innerHTML='<img src="res/assets/maximise.png" alt="Fullscreen" style="width: 100%; height: 100%;">',o.onclick=()=>{a.fullscreenElement?a.exitFullscreen():e.requestFullscreen()},t.appendChild(o)}}}}}}class j{async build(e,n,i){G.n.OverrideEngineCreateEffect(n);const a=new F.CounterAPI,r=H,E=Z,B=A,V=O,j=I,$=N;E.sort(((e,n)=>n._id-e._id)),B.sort(((e,n)=>n._id-e._id)),V.sort(((e,n)=>n._id-e._id)),j.sort(((e,n)=>n._id-e._id)),$.sort(((e,n)=>n._id-e._id));const K=(e,n)=>e.find((e=>e.name===n)),U=(e,n)=>q(e.filter((e=>e.name===n)),"name",!1);function Y(e,n){return e.filter((e=>n.every((n=>String(e[n.key]).includes(n.value)))))}function q(e,n,i=!0){return e.slice().sort(((e,a)=>{const r=e[n],t=a[n];if("number"==typeof r&&"number"==typeof t)return i?r-t:t-r;{const e=String(r),n=String(t);return i?n.localeCompare(e):e.localeCompare(n)}}))}const W=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);(0,M.j)();const J=new f.c;J.renderMethod=f.L.DepthWriteAlphaBlending,J.afterBuildSingleMaterial=e=>{e.forceDepthWrite=!0;const n=e.diffuseTexture;n&&(n.hasAlpha=!0,e.useAlphaFromDiffuseTexture=!0),e.transparencyMode===p.i.MATERIAL_ALPHABLEND&&(e.transparencyMode=p.i.MATERIAL_ALPHATESTANDBLEND,e.alphaCutOff=.01)};const Q=new S.Z(n);let X=!1;window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?(X=!0,Q.clearColor=new y.ov(.001,.001,.001,1)):Q.clearColor=new y.ov(1,1,1,1);const ee=C.vs.CreateFullscreenUI("UI");ee.layer.layerMask=268435456,ee.idealWidth=1e3,ee.idealHeight=1e3,ee.useSmallestIdeal=!0;const ne=.09,ie=new x.V("mmdRoot",Q);ie.scaling.scaleInPlace(ne),ie.position.z=1;const ae=new x.V("mmdRoot",Q);ae.scaling.scaleInPlace(ne),ae.position.z=1;const re=new L.A("mmdCamera",new h.Pq(0,10,0),Q);re.maxZ=100,re.minZ=1,re.parent=ie,re.layerMask=1;const te=new h.Pq(0,10,-20).scaleInPlace(ne),oe=new t.L("arcRotateCamera",0,0,2.25,new h.Pq(0,10*ne,1),Q);oe.maxZ=100,oe.minZ=.1,oe.setPosition(te),oe.attachControl(e,!1),oe.inertia=.8,oe.speed=.36,oe.zoomToMouseLocation=!0,oe.wheelDeltaPercentage=.1,oe.upperRadiusLimit=9,oe.lowerRadiusLimit=.09,W&&(oe.pinchDeltaPercentage=.002),oe.layerMask=1;const se=new t.L("stillCamera",0,0,2.25,new h.Pq(0,10*ne,1),Q);se.maxZ=100,se.minZ=.1,se.setPosition(te),se.attachControl(e,!1),se.inertia=.8,se.speed=.36,se.zoomToMouseLocation=!0,se.wheelDeltaPercentage=.1,se.upperRadiusLimit=9,se.lowerRadiusLimit=.09,W&&(se.pinchDeltaPercentage=.002),se.layerMask=1;const le=new t.L("guiCamera",Math.PI/2+Math.PI/7,Math.PI/2,100,new h.Pq(0,20,0),Q);le.layerMask=268435456;const de=new l.g("HemisphericLight",new h.Pq(0,1,0),Q);de.intensity=.4,de.specular=new y.v9(0,0,0),de.groundColor=new y.v9(1,1,1);const me=new s.Z("DirectionalLight",new h.Pq(.5,-1,1),Q);me.intensity=.8,me.autoCalcShadowZBounds=!1,me.autoUpdateExtends=!1,me.shadowMaxZ=20*ne,me.shadowMinZ=-15*ne,me.orthoTop=18*ne,me.orthoBottom=-.27,me.orthoLeft=-10*ne,me.orthoRight=10*ne,me.shadowOrthoScale=0;const ge=new d.o(1024,me,!0);let pe;ge.usePercentageCloserFiltering=!0,ge.forceBackFacesOnly=!0,ge.filteringQuality=d.o.QUALITY_MEDIUM,ge.frustumEdgeFalloff=.1,pe=new P.j(Q),pe.loggingEnabled=!0,pe.register(Q);const ce=new R.A(Q);ce.preservesPitch=!1,ce.source="res/cam_motion/Specialist (Never End ver.)/music001.mp3",pe.setAudioPlayer(ce);let ye=new z(Q,pe,ce,W);ye.showPlayerControl();const he=new D(e);n.loadingScreen=he,n.displayLoadingUI();let ue=[];const xe=(e,n)=>{ue[e]=n,he.loadingTextDiv.innerHTML="<br/><br/><br/><br/>"+ue.join("<br/><br/>")};let be=[];const we=new v.P(Q);let Te,Se;we.loggingEnabled=!0,be.push(we.loadAsync("motion","res/cam_motion/Specialist (Never End ver.)/CameraMAIN2.bvmd",(e=>xe(0,`Loading camera... ${e.loaded}/${e.total} (${Math.floor(100*e.loaded/e.total)}%)`)))),be.push(we.loadAsync("motion","res/cam_motion/Specialist (Never End ver.)/mmd_Specialist_motion.bvmd",(e=>xe(1,`Loading motion... ${e.loaded}/${e.total} (${Math.floor(100*e.loaded/e.total)}%)`))));let Ce,ke=i,_e="Genshin",fe=_e;const ve=[E,j,$];if([Ce,fe]=((e,n)=>{const i=e=>e.toLowerCase().replace(/[^a-z]/g,""),a=i(n);let r;for(let n=0;n<e.length;n++){let t;if(r=e[n].find((e=>i(e.name)===a)),t=0==n?"Genshin":1==n?"HSR":"ZZZ",r)return[r,t]}const t=e[0].find((e=>"hutao"===i(e.name)));return[t,"Genshin"]})(ve,ke),ke=Ce.name,!(Ce&&Ce.directory&&Ce.pmx))throw new Error("Chosen character or its properties are undefined");be.push((0,m.kS)(Ce.directory+"/"+Ce.pmx,Q,{onProgress:e=>xe(2,`Loading model... ${e.loaded}/${e.total} (${Math.floor(100*e.loaded/e.total)}%)`),pluginOptions:{mmdmodel:{loggingEnabled:!0,materialBuilder:J}}})),be.push((async()=>{xe(2,"Loading physics engine...");const e=await(0,k.A)();new b.P(!0,e),xe(2,"Loading physics engine... Done")})());let Me=await Promise.all(be);Q.onAfterRenderObservable.addOnce((()=>n.hideLoadingUI())),Q.activeCameras=[se,le];let Ge=1.66,Re=69,Le=new h.uq,Pe=Me[2];Pe.addAllToScene();let Fe=Pe.rootNodes[0];Fe.parent=ie,ge.addShadowCaster(Fe);for(const e of Fe.metadata.meshes)e.receiveShadows=!0;const He=(0,u.km)("ground1",{width:100,height:100,subdivisions:2,updatable:!1},Q),Ze=He.material=new _.w("shadowOnly",Q);Ze.activeLight=me,Ze.alpha=.4,He.receiveShadows=!0,He.parent=ie;let Ae=pe.createMmdModel(Fe);const Ie=Me[1];let Oe=Ae.runtimeBones.find((e=>"頭"===e.name)),Ne=Ae.runtimeBones.find((e=>"センター"===e.name)),Ee=new h.uq;null!=Oe&&null!=Ne&&(Ae.addAnimation(Ie),Ae.setAnimation("motion"),Q.onBeforeDrawPhaseObservable.addOnce((()=>{Oe.getWorldMatrixToRef(Le).multiplyToRef(Fe.getWorldMatrix(),Le),Le.getTranslationToRef(ae.position),Ge-=ae.position.y,Re=ae.position.y})),Q.onBeforeRenderObservable.add((()=>{Ne.getWorldMatrixToRef(Ee).multiplyToRef(Fe.getWorldMatrix(),Ee),Ee.getTranslationToRef(me.position),me.position.y-=10*ne}))),re.addAnimation(Me[0]),re.storeState(),pe.setCamera(re),re.setAnimation("motion"),Q.onAfterRenderObservable.addOnce((()=>{Q.freezeMaterials(),null!=We&&(We.isEnabled=!0);const e=Q.meshes;for(let n=0,i=e.length;n<i;++n){const i=e[n];i.freezeWorldMatrix(),i.doNotSyncBoundingInfo=!0,i.isPickable=!1,i.doNotSyncBoundingInfo=!0,i.alwaysSelectAsActiveMesh=!0}Q.skipPointerMovePicking=!0,Q.skipPointerDownPicking=!0,Q.skipPointerUpPicking=!0,Q.skipFrustumClipping=!0,Q.blockMaterialDirtyMechanism=!0,ce.mute(),a.up("phoshco","hoyo").then((e=>{console.log(e)}))}));const De=new T.e("default",!0,Q,[re,oe,se]);De.samples=4,De.bloomEnabled=!0,De.bloomScale=10,De.chromaticAberrationEnabled=!0,De.chromaticAberration.aberrationAmount=1,De.fxaaEnabled=!0,De.imageProcessing.toneMappingEnabled=!1,De.imageProcessing.toneMappingType=g.p.TONEMAPPING_ACES,De.imageProcessing.vignetteWeight=.5,De.imageProcessing.vignetteStretch=.5,De.imageProcessing.vignetteColor=new y.ov(0,0,0,0),De.imageProcessing.vignetteEnabled=!0,De.depthOfFieldEnabled=!1,De.depthOfFieldBlurLevel=w.lo.Medium,De.depthOfField.fStop=.05,De.depthOfField.focalLength=20;let Be=69;const Ve=new o.Wd("","res/stages/hoyo.png",Q,!0,new y.ov(1,1,1,1)),ze=new c.g("res/stages/hoyo.png",Q,!0),je=new c.g("res/stages/hoyo_dark.png",Q,!0);X&&(Ve.texture=je),new ResizeObserver((()=>{const n=e.width/e.height;n>1?(Ve.scale.y=n,Ve.scale.x=1,ze.uScale=1,ze.vScale=1/Ve.scale.y,ze.uOffset=0,ze.vOffset=.5*(1-ze.vScale),je.uScale=1,je.vScale=1/Ve.scale.y,je.uOffset=0,je.vOffset=.5*(1-je.vScale)):(Ve.scale.y=1,Ve.scale.x=1/n,ze.uScale=1/Ve.scale.x,ze.vScale=1,ze.uOffset=.5*(1-ze.uScale),ze.vOffset=0,je.uScale=1/Ve.scale.x,je.vScale=1,je.uOffset=.5*(1-je.uScale),je.vOffset=0)})).observe(e),Ve.render;const $e=new C.VJ;$e.widthInPixels=100,$e.heightInPixels=50,$e.left=0,$e.text="lol",$e.fontSize=16,$e.textHorizontalAlignment=C.Ec.HORIZONTAL_ALIGNMENT_LEFT,$e.horizontalAlignment=C.Ec.HORIZONTAL_ALIGNMENT_RIGHT,$e.verticalAlignment=C.Ec.VERTICAL_ALIGNMENT_BOTTOM,$e.color="black",ee.addControl($e),$e.isVisible=!1;const Ke=new C.VJ;Ke.widthInPixels=100,Ke.heightInPixels=50,Ke.left=0,Ke.text=`${Q.activeCameras[0].name}`,Ke.fontSize=16,Ke.textHorizontalAlignment=C.Ec.HORIZONTAL_ALIGNMENT_LEFT,Ke.horizontalAlignment=C.Ec.HORIZONTAL_ALIGNMENT_RIGHT,Ke.verticalAlignment=C.Ec.VERTICAL_ALIGNMENT_TOP,Ke.color="black",ee.addControl(Ke),Ke.isVisible=!1;const Ue=new C.VJ;Ue.resizeToFit=!0,Ue.top=0,Ue.left=0,Ue.paddingTop=10,Ue.paddingRight=10,Ue.text="Double click / tap to change camera mode.",Ue.fontSize=W?26:16,Ue.textHorizontalAlignment=C.Ec.HORIZONTAL_ALIGNMENT_CENTER,Ue.horizontalAlignment=C.Ec.HORIZONTAL_ALIGNMENT_RIGHT,Ue.verticalAlignment=C.Ec.VERTICAL_ALIGNMENT_TOP,Ue.color="grey",ee.addControl(Ue),Ue.isVisible=!0;const Ye=W?"100px":"50px",qe=C.$n.CreateImageOnlyButton("but","res/assets/menu.png");let We;function Je(e=!1,n,i){null!=We&&We.dispose(),We=new C.$n,We=C.$n.CreateImageOnlyButton("but","res/assets/alter.png"),X&&(We.image.source="res/assets/alter_light.png"),We.horizontalAlignment=C.Ec.HORIZONTAL_ALIGNMENT_LEFT,We.left="10px",We.verticalAlignment=C.Ec.VERTICAL_ALIGNMENT_TOP,We.top=W?"110px":"60px",We.width=Ye,We.height=Ye,We.thickness=0,ee.addControl(We),We.isVisible=e,null!=n&&i&&(We.isEnabled=!1,We.onPointerClickObservable.addOnce((async function(){fi(i),Qe=n,nn.isVisible&&(nn.isVisible=!1)})))}qe.horizontalAlignment=C.Ec.HORIZONTAL_ALIGNMENT_LEFT,qe.left="10px",qe.verticalAlignment=C.Ec.VERTICAL_ALIGNMENT_TOP,qe.top="10px",qe.width=Ye,qe.height=Ye,qe.thickness=0,ee.addControl(qe),qe.onPointerClickObservable.add((function(){nn.isVisible=!nn.isVisible,qe.isVisible&&ye.hidePlayerControl()}));let Qe=!1;const Xe=C.$n.CreateImageOnlyButton("but","res/assets/dark_mode.png");X&&(Xe.image.source="res/assets/light_mode.png"),Xe.horizontalAlignment=C.Ec.HORIZONTAL_ALIGNMENT_LEFT,Xe.left=W?"110px":"60px",Xe.verticalAlignment=C.Ec.VERTICAL_ALIGNMENT_TOP,Xe.top="10px",Xe.width=Ye,Xe.height=Ye,Xe.thickness=0,ee.addControl(Xe),Xe.onPointerClickObservable.add((function(){X?(Q.clearColor=new y.ov(1,1,1,1),Ve.texture=ze,Xe.image.source="res/assets/dark_mode.png",null!=We&&(We.image.source="res/assets/alter.png"),en.color="black"):(Ve.texture=je,Xe.image.source="res/assets/light_mode.png",null!=We&&(We.image.source="res/assets/alter_light.png"),en.color="white"),Ve.render,X=!X}));const en=new C.VJ;en.heightInPixels=W?100:50,en.left=W?"220px":"120px",en.top="10px",en.text=ke,en.fontSize=W?40:20,en.textHorizontalAlignment=C.Ec.HORIZONTAL_ALIGNMENT_LEFT,en.horizontalAlignment=C.Ec.HORIZONTAL_ALIGNMENT_LEFT,en.verticalAlignment=C.Ec.VERTICAL_ALIGNMENT_TOP,en.color=X?"white":"black",ee.addControl(en),en.isVisible=!0;const nn=new C.tN("charPanel");nn.width="720px",nn.height="920px",nn.background="rgb(44,48,50)",nn.cornerRadius=20,nn.thickness=3,nn.color="black",ee.addControl(nn),nn.isVisible=!1,nn.onIsVisibleChangedObservable.add((()=>{nn.isVisible||(se.attachControl(e,!1),oe.attachControl(e,!1))})),nn.onPointerEnterObservable.add((function(){se.detachControl(),oe.detachControl()})),nn.onPointerOutObservable.add((function(){se.attachControl(e,!1),oe.attachControl(e,!1)}));let an,rn=!1;nn.onPointerDownObservable.add((()=>{rn=!0})),nn.onPointerUpObservable.add((()=>{setTimeout((()=>{rn=!1}),100)}));let tn=!0;const on=new C.tN;on.width="700px",on.height="900px",on.thickness=0,on.cornerRadius=15,on.background=nn.background,nn.addControl(on);const sn=new C.Pc;sn.width="700px",sn.height="900px",on.addControl(sn);const ln=new C.tN;ln.width="700px",ln.height="100px",ln.thickness=0,sn.addControl(ln);const dn=C.$n.CreateSimpleButton("but","Genshin Impact");dn.width="233px",dn.height="50px",dn.color="white",dn.background="rgb(64,68,70)",dn.thickness=0,dn.left=-233,dn.top=-25,dn.cornerRadiusX=dn.cornerRadiusY=15,ln.addControl(dn);const mn=C.$n.CreateSimpleButton("but","Honkai: Star Rail");mn.width="233px",mn.height="50px",mn.color="white",mn.background=nn.background,mn.thickness=0,mn.left=0,mn.top=-25,mn.cornerRadiusX=mn.cornerRadiusY=15,ln.addControl(mn);const gn=C.$n.CreateSimpleButton("but","Zenless Zone Zero");gn.width="233px",gn.height="50px",gn.color="white",gn.background=nn.background,gn.thickness=0,gn.left=233,gn.top=-25,gn.cornerRadiusX=gn.cornerRadiusY=15,ln.addControl(gn);let pn,cn=!1;const yn=[{key:"_id",value:"10000"}],hn=[{key:"_id",value:"10000"}],un=[{key:"_id",value:"10000"}];let xn;function bn(){"HSR"!=_e&&(mn.background="rgb(64,68,70)","Genshin"==_e?(dn.background=nn.background,ti()):(gn.background=nn.background,ui()),_e="HSR",xn=Y(j,hn),xn=q(xn,pn,cn),Kn(),ki(xn))}function wn(){"ZZZ"!=_e&&(gn.background="rgb(64,68,70)","Genshin"==_e?(dn.background=nn.background,ti()):"HSR"==_e&&(Kn(),mn.background=nn.background),_e="ZZZ",xn=Y($,un),xn=q(xn,pn,cn),ui(),ki(xn))}xn=Y(E,yn),pn="_id",dn.onPointerClickObservable.add((function(){"Genshin"!=_e&&(dn.background="rgb(64,68,70)","HSR"==_e?(mn.background=nn.background,Kn()):(gn.background=nn.background,ui()),_e="Genshin",xn=Y(E,yn),xn=q(xn,pn,cn),ti(),ki(xn))})),mn.onPointerClickObservable.add((function(){bn()})),gn.onPointerClickObservable.add((function(){wn()}));const Tn=new C.tN;Tn.width="700px",Tn.height="50px",Tn.thickness=0,Tn.top=25,Tn.background="rgb(64,68,70)",ln.addControl(Tn);const Sn=C.$n.CreateImageOnlyButton("but","res/assets/descending.png");Sn.height="40px",Sn.width="40px",Sn.left=-328,Sn.thickness=0,Tn.addControl(Sn),Sn.onPointerClickObservable.add((()=>{cn?(Sn.image.source="res/assets/descending.png",xn=q(xn,pn,!1),ki(xn)):(Sn.image.source="res/assets/ascending.png",xn=q(xn,pn,!0),ki(xn)),cn=!cn}));const Cn=C.$n.CreateSimpleButton("but"," Release ");Cn.height="40px",Cn.width="90px",Cn.left=-258,Cn.background=nn.background,Cn.color="white",Cn.cornerRadius=15,Cn.thickness=0,Tn.addControl(Cn),Cn.onPointerClickObservable.add((()=>{null!=Cn.textBlock&&("_id"==pn?(pn="name",kn.image.source="res/assets/release.png",Cn.textBlock.text=" Name "):(pn="_id",kn.image.source="res/assets/alphabet.png",Cn.textBlock.text=" Release "),xn=q(xn,pn,cn),ki(xn))}));const kn=C.$n.CreateImageOnlyButton("but","res/assets/release.png");kn.height="40px",kn.width="40px",kn.left=-278,kn.thickness=0,Tn.addControl(kn),kn.onPointerClickObservable.add((()=>{"_id"==pn?(pn="name",kn.image.source="res/assets/alphabet.png",Cn.textBlock.text=" Name "):(pn="_id",kn.image.source="res/assets/release.png",Cn.textBlock.text=" Release "),xn=q(xn,pn,cn),ki(xn)})),kn.isVisible=!1;const _n=C.$n.CreateImageOnlyButton("but","res/assets/Genshin/rarity_4.png");_n.height="40px",_n.width="40px",_n.left=-188,_n.thickness=0,_n.cornerRadius=5,Tn.addControl(_n),_n.onPointerClickObservable.add((function(){const e=yn.findIndex((e=>"rarity"===e.key));if(-1!==e)"4"==yn[e].value?(yn.splice(e,1),_n.background="rgba(0,0,0,0)"):(yn[e].value="4",fn.background="rgba(0,0,0,0)",_n.background=nn.background);else{const e={key:"rarity",value:"4"};yn.push(e),_n.background=nn.background}xn=Y(E,yn),xn=q(xn,pn,cn),ki(xn)}));const fn=C.$n.CreateImageOnlyButton("but","res/assets/Genshin/rarity_5.png");fn.height="40px",fn.width="40px",fn.left=-148,fn.thickness=0,fn.cornerRadius=5,Tn.addControl(fn),fn.onPointerClickObservable.add((function(){const e=yn.findIndex((e=>"rarity"===e.key));if(-1!==e)"5"==yn[e].value?(yn.splice(e,1),fn.background="rgba(0,0,0,0)"):(yn[e].value="5",_n.background="rgba(0,0,0,0)",fn.background=nn.background);else{const e={key:"rarity",value:"5"};yn.push(e),fn.background=nn.background}xn=Y(E,yn),xn=q(xn,pn,cn),ki(xn)}));const vn=C.$n.CreateImageOnlyButton("but","res/assets/HSR/rarity_5.png");vn.height="40px",vn.width="40px",vn.left=-238,vn.thickness=0,vn.cornerRadius=5,Tn.addControl(vn),vn.isVisible=!1,vn.onPointerClickObservable.add((function(){const e=hn.findIndex((e=>"rarity"===e.key));if(-1!==e)"4"==hn[e].value?(hn.splice(e,1),vn.background="rgba(0,0,0,0)",vn.image.source="res/assets/HSR/rarity_5.png"):(hn[e].value="4",vn.background=nn.background,vn.image.source="res/assets/HSR/rarity_4.png");else{const e={key:"rarity",value:"5"};hn.push(e),vn.background=nn.background}xn=Y(j,hn),xn=q(xn,pn,cn),ki(xn)}));const Mn=C.$n.CreateImageOnlyButton("but","res/assets/ZZZ/Icon_AgentRank_A.png");Mn.height="40px",Mn.width="40px",Mn.left=-188,Mn.thickness=0,Mn.cornerRadius=5,Tn.addControl(Mn),Mn.isVisible=!1,Mn.onPointerClickObservable.add((function(){const e=un.findIndex((e=>"rarity"===e.key));if(-1!==e)"4"==un[e].value?(un.splice(e,1),Mn.background="rgba(0,0,0,0)"):(un[e].value="4",fn.background="rgba(0,0,0,0)",Mn.background=nn.background);else{const e={key:"rarity",value:"4"};un.push(e),Mn.background=nn.background}xn=Y($,un),xn=q(xn,pn,cn),ki(xn)}));const Gn=C.$n.CreateImageOnlyButton("but","res/assets/ZZZ/Icon_AgentRank_S.png");function Rn(e,n,i){const a=yn.findIndex((e=>e.key===i));if(-1!==a)yn[a].value==n?(yn.splice(a,1),e.background="rgba(0,0,0,0)"):(yn[a].value=n,"element"==i.toString()?(Un.background="rgba(0,0,0,0)",Yn.background="rgba(0,0,0,0)",qn.background="rgba(0,0,0,0)",Wn.background="rgba(0,0,0,0)",Jn.background="rgba(0,0,0,0)",Qn.background="rgba(0,0,0,0)",Xn.background="rgba(0,0,0,0)"):(ei.background="rgba(0,0,0,0)",ni.background="rgba(0,0,0,0)",ii.background="rgba(0,0,0,0)",ai.background="rgba(0,0,0,0)",ri.background="rgba(0,0,0,0)"),e.background=nn.background);else{const a={key:i,value:n};yn.push(a),e.background=nn.background}xn=Y(E,yn),xn=q(xn,pn,cn),ki(xn)}function Ln(e,n,i){const a=hn.findIndex((e=>e.key===i));if(-1!==a)hn[a].value==n?(hn.splice(a,1),e.background="rgba(0,0,0,0)"):(hn[a].value=n,"element"==i.toString()?(Fn.background="rgba(0,0,0,0)",Hn.background="rgba(0,0,0,0)",Zn.background="rgba(0,0,0,0)",An.background="rgba(0,0,0,0)",In.background="rgba(0,0,0,0)",On.background="rgba(0,0,0,0)",Nn.background="rgba(0,0,0,0)"):(En.background="rgba(0,0,0,0)",Dn.background="rgba(0,0,0,0)",Bn.background="rgba(0,0,0,0)",Vn.background="rgba(0,0,0,0)",zn.background="rgba(0,0,0,0)",jn.background="rgba(0,0,0,0)",$n.background="rgba(0,0,0,0)"),e.background=nn.background);else{const a={key:i,value:n};hn.push(a),e.background=nn.background}xn=Y(j,hn),xn=q(xn,pn,cn),ki(xn)}function Pn(e,n,i){const a=un.findIndex((e=>e.key===i));if(-1!==a)un[a].value==n?(un.splice(a,1),e.background="rgba(0,0,0,0)"):(un[a].value=n,"element"==i.toString()?(oi.background="rgba(0,0,0,0)",si.background="rgba(0,0,0,0)",li.background="rgba(0,0,0,0)",di.background="rgba(0,0,0,0)",mi.background="rgba(0,0,0,0)"):(gi.background="rgba(0,0,0,0)",pi.background="rgba(0,0,0,0)",ci.background="rgba(0,0,0,0)",yi.background="rgba(0,0,0,0)",hi.background="rgba(0,0,0,0)"),e.background=nn.background);else{const a={key:i,value:n};un.push(a),e.background=nn.background}xn=Y($,un),xn=q(xn,pn,cn),ki(xn)}Gn.height="40px",Gn.width="40px",Gn.left=-148,Gn.thickness=0,Gn.cornerRadius=5,Tn.addControl(Gn),Gn.isVisible=!1,Gn.onPointerClickObservable.add((function(){const e=un.findIndex((e=>"rarity"===e.key));if(-1!==e)"5"==un[e].value?(un.splice(e,1),Gn.background="rgba(0,0,0,0)"):(un[e].value="5",Mn.background="rgba(0,0,0,0)",Gn.background=nn.background);else{const e={key:"rarity",value:"5"};un.push(e),Gn.background=nn.background}xn=Y($,un),xn=q(xn,pn,cn),ki(xn)}));const Fn=C.$n.CreateImageOnlyButton("but","res/assets/HSR/element_fire.png");Fn.height="40px",Fn.width="40px",Fn.left=-188,Fn.thickness=0,Fn.cornerRadius=5,Fn.isVisible=!1,Tn.addControl(Fn),Fn.onPointerClickObservable.add((function(){Ln(Fn,"Fire","element")}));const Hn=C.$n.CreateImageOnlyButton("but","res/assets/HSR/element_ice.png");Hn.height="40px",Hn.width="40px",Hn.left=-148,Hn.thickness=0,Hn.cornerRadius=5,Hn.isVisible=!1,Tn.addControl(Hn),Hn.onPointerClickObservable.add((function(){Ln(Hn,"Ice","element")}));const Zn=C.$n.CreateImageOnlyButton("but","res/assets/HSR/element_imaginary.png");Zn.height="40px",Zn.width="40px",Zn.left=-108,Zn.thickness=0,Zn.cornerRadius=5,Zn.isVisible=!1,Tn.addControl(Zn),Zn.onPointerClickObservable.add((function(){Ln(Zn,"Imaginary","element")}));const An=C.$n.CreateImageOnlyButton("but","res/assets/HSR/element_lightning.png");An.height="40px",An.width="40px",An.left=-68,An.thickness=0,An.cornerRadius=5,An.isVisible=!1,Tn.addControl(An),An.onPointerClickObservable.add((function(){Ln(An,"Lightning","element")}));const In=C.$n.CreateImageOnlyButton("but","res/assets/HSR/element_physical.png");In.height="40px",In.width="40px",In.left=-28,In.thickness=0,In.cornerRadius=5,In.isVisible=!1,Tn.addControl(In),In.onPointerClickObservable.add((function(){Ln(In,"Physical","element")}));const On=C.$n.CreateImageOnlyButton("but","res/assets/HSR/element_quantum.png");On.height="40px",On.width="40px",On.left=12,On.thickness=0,On.cornerRadius=5,On.isVisible=!1,Tn.addControl(On),On.onPointerClickObservable.add((function(){Ln(On,"Quantum","element")}));const Nn=C.$n.CreateImageOnlyButton("but","res/assets/HSR/element_wind.png");Nn.height="40px",Nn.width="40px",Nn.left=52,Nn.thickness=0,Nn.cornerRadius=5,Nn.isVisible=!1,Tn.addControl(Nn),Nn.onPointerClickObservable.add((function(){Ln(Nn,"Wind","element")}));const En=C.$n.CreateImageOnlyButton("but","res/assets/HSR/path_the_abundance.png");En.height="40px",En.width="40px",En.left=92,En.thickness=0,En.cornerRadius=5,En.isVisible=!1,Tn.addControl(En),En.onPointerClickObservable.add((function(){Ln(En,"Abundance","weaponType")}));const Dn=C.$n.CreateImageOnlyButton("but","res/assets/HSR/path_the_destruction.png");Dn.height="40px",Dn.width="40px",Dn.left=132,Dn.thickness=0,Dn.cornerRadius=5,Dn.isVisible=!1,Tn.addControl(Dn),Dn.onPointerClickObservable.add((function(){Ln(Dn,"Destruction","weaponType")}));const Bn=C.$n.CreateImageOnlyButton("but","res/assets/HSR/path_the_erudition.png");Bn.height="40px",Bn.width="40px",Bn.left=172,Bn.thickness=0,Bn.cornerRadius=5,Bn.isVisible=!1,Tn.addControl(Bn),Bn.onPointerClickObservable.add((function(){Ln(Bn,"Erudition","weaponType")}));const Vn=C.$n.CreateImageOnlyButton("but","res/assets/HSR/path_the_harmony.png");Vn.height="40px",Vn.width="40px",Vn.left=212,Vn.thickness=0,Vn.cornerRadius=5,Vn.isVisible=!1,Tn.addControl(Vn),Vn.onPointerClickObservable.add((function(){Ln(Vn,"Harmony","weaponType")}));const zn=C.$n.CreateImageOnlyButton("but","res/assets/HSR/path_the_hunt.png");zn.height="40px",zn.width="40px",zn.left=252,zn.thickness=0,zn.cornerRadius=5,zn.isVisible=!1,Tn.addControl(zn),zn.onPointerClickObservable.add((function(){Ln(zn,"Hunt","weaponType")}));const jn=C.$n.CreateImageOnlyButton("but","res/assets/HSR/path_the_nihility.png");jn.height="40px",jn.width="40px",jn.left=292,jn.thickness=0,jn.cornerRadius=5,jn.isVisible=!1,Tn.addControl(jn),jn.onPointerClickObservable.add((function(){Ln(jn,"Nihility","weaponType")}));const $n=C.$n.CreateImageOnlyButton("but","res/assets/HSR/path_the_preservation.png");function Kn(){Fn.isVisible=!Fn.isVisible,Hn.isVisible=!Hn.isVisible,Zn.isVisible=!Zn.isVisible,An.isVisible=!An.isVisible,In.isVisible=!In.isVisible,On.isVisible=!On.isVisible,Nn.isVisible=!Nn.isVisible,En.isVisible=!En.isVisible,Dn.isVisible=!Dn.isVisible,Bn.isVisible=!Bn.isVisible,Vn.isVisible=!Vn.isVisible,zn.isVisible=!zn.isVisible,jn.isVisible=!jn.isVisible,$n.isVisible=!$n.isVisible,kn.isVisible=!kn.isVisible,vn.isVisible=!vn.isVisible}$n.height="40px",$n.width="40px",$n.left=332,$n.thickness=0,$n.cornerRadius=5,$n.isVisible=!1,Tn.addControl($n),$n.onPointerClickObservable.add((function(){Ln($n,"Preservation","weaponType")}));const Un=C.$n.CreateImageOnlyButton("but","res/assets/Genshin/element_anemo.png");Un.height="40px",Un.width="40px",Un.left=-108,Un.thickness=0,Un.cornerRadius=5,Tn.addControl(Un),Un.onPointerClickObservable.add((function(){Rn(Un,"Anemo","element")}));const Yn=C.$n.CreateImageOnlyButton("but","res/assets/Genshin/element_geo.png");Yn.height="40px",Yn.width="40px",Yn.left=-68,Yn.thickness=0,Yn.cornerRadius=5,Tn.addControl(Yn),Yn.onPointerClickObservable.add((function(){Rn(Yn,"Geo","element")}));const qn=C.$n.CreateImageOnlyButton("but","res/assets/Genshin/element_electro.png");qn.height="40px",qn.width="40px",qn.left=-28,qn.thickness=0,qn.cornerRadius=5,Tn.addControl(qn),qn.onPointerClickObservable.add((function(){Rn(qn,"Electro","element")}));const Wn=C.$n.CreateImageOnlyButton("but","res/assets/Genshin/element_dendro.png");Wn.height="40px",Wn.width="40px",Wn.left=12,Wn.thickness=0,Wn.cornerRadius=5,Tn.addControl(Wn),Wn.onPointerClickObservable.add((function(){Rn(Wn,"Dendro","element")}));const Jn=C.$n.CreateImageOnlyButton("but","res/assets/Genshin/element_hydro.png");Jn.height="40px",Jn.width="40px",Jn.left=52,Jn.thickness=0,Jn.cornerRadius=5,Tn.addControl(Jn),Jn.onPointerClickObservable.add((function(){Rn(Jn,"Hydro","element")}));const Qn=C.$n.CreateImageOnlyButton("but","res/assets/Genshin/element_pyro.png");Qn.height="40px",Qn.width="40px",Qn.left=92,Qn.thickness=0,Qn.cornerRadius=5,Tn.addControl(Qn),Qn.onPointerClickObservable.add((function(){Rn(Qn,"Pyro","element")}));const Xn=C.$n.CreateImageOnlyButton("but","res/assets/Genshin/element_cryo.png");Xn.height="40px",Xn.width="40px",Xn.left=132,Xn.thickness=0,Xn.cornerRadius=5,Tn.addControl(Xn),Xn.onPointerClickObservable.add((function(){Rn(Xn,"Cryo","element")}));const ei=C.$n.CreateImageOnlyButton("but","res/assets/Genshin/Sword.png");ei.height="40px",ei.width="40px",ei.left=172,ei.thickness=0,ei.cornerRadius=5,Tn.addControl(ei),ei.onPointerClickObservable.add((function(){Rn(ei,"Sword","weaponType")}));const ni=C.$n.CreateImageOnlyButton("but","res/assets/Genshin/Catalyst.png");ni.height="40px",ni.width="40px",ni.left=212,ni.thickness=0,ni.cornerRadius=5,Tn.addControl(ni),ni.onPointerClickObservable.add((function(){Rn(ni,"Catalyst","weaponType")}));const ii=C.$n.CreateImageOnlyButton("but","res/assets/Genshin/Bow.png");ii.height="40px",ii.width="40px",ii.left=252,ii.thickness=0,ii.cornerRadius=5,Tn.addControl(ii),ii.onPointerClickObservable.add((function(){Rn(ii,"Bow","weaponType")}));const ai=C.$n.CreateImageOnlyButton("but","res/assets/Genshin/Claymore.png");ai.height="40px",ai.width="40px",ai.left=292,ai.thickness=0,ai.cornerRadius=5,Tn.addControl(ai),ai.onPointerClickObservable.add((function(){Rn(ai,"Claymore","weaponType")}));const ri=C.$n.CreateImageOnlyButton("but","res/assets/Genshin/Pole.png");function ti(){_n.isVisible=!_n.isVisible,fn.isVisible=!fn.isVisible,Un.isVisible=!Un.isVisible,Yn.isVisible=!Yn.isVisible,qn.isVisible=!qn.isVisible,Wn.isVisible=!Wn.isVisible,Jn.isVisible=!Jn.isVisible,Qn.isVisible=!Qn.isVisible,Xn.isVisible=!Xn.isVisible,ei.isVisible=!ei.isVisible,ni.isVisible=!ni.isVisible,ii.isVisible=!ii.isVisible,ai.isVisible=!ai.isVisible,ri.isVisible=!ri.isVisible,Cn.isVisible=!Cn.isVisible}ri.height="40px",ri.width="40px",ri.left=332,ri.thickness=0,ri.cornerRadius=5,Tn.addControl(ri),ri.onPointerClickObservable.add((function(){Rn(ri,"Polearm","weaponType")}));const oi=C.$n.CreateImageOnlyButton("but","res/assets/ZZZ/Icon_Electric.png");oi.height="40px",oi.width="40px",oi.left=-68,oi.thickness=0,oi.cornerRadius=5,oi.isVisible=!1,Tn.addControl(oi),oi.onPointerClickObservable.add((function(){Pn(oi,"Electric","element")}));const si=C.$n.CreateImageOnlyButton("but","res/assets/ZZZ/Icon_Ether.png");si.height="40px",si.width="40px",si.left=-28,si.thickness=0,si.cornerRadius=5,si.isVisible=!1,Tn.addControl(si),si.onPointerClickObservable.add((function(){Pn(si,"Ether","element")}));const li=C.$n.CreateImageOnlyButton("but","res/assets/ZZZ/Icon_Fire.png");li.height="40px",li.width="40px",li.left=12,li.thickness=0,li.cornerRadius=5,li.isVisible=!1,Tn.addControl(li),li.onPointerClickObservable.add((function(){Pn(li,"Fire","element")}));const di=C.$n.CreateImageOnlyButton("but","res/assets/ZZZ/Icon_Ice.png");di.height="40px",di.width="40px",di.left=52,di.thickness=0,di.cornerRadius=5,di.isVisible=!1,Tn.addControl(di),di.onPointerClickObservable.add((function(){Pn(di,"Ice","element")}));const mi=C.$n.CreateImageOnlyButton("but","res/assets/ZZZ/Icon_Physical.png");mi.height="40px",mi.width="40px",mi.left=92,mi.thickness=0,mi.cornerRadius=5,mi.isVisible=!1,Tn.addControl(mi),mi.onPointerClickObservable.add((function(){Pn(mi,"Physical","element")}));const gi=C.$n.CreateImageOnlyButton("but","res/assets/ZZZ/Icon_Anomaly.png");gi.height="40px",gi.width="40px",gi.left=132,gi.thickness=0,gi.cornerRadius=5,gi.isVisible=!1,Tn.addControl(gi),gi.onPointerClickObservable.add((function(){Pn(gi,"Anomaly","weaponType")}));const pi=C.$n.CreateImageOnlyButton("but","res/assets/ZZZ/Icon_Attack.png");pi.height="40px",pi.width="40px",pi.left=172,pi.thickness=0,pi.cornerRadius=5,pi.isVisible=!1,Tn.addControl(pi),pi.onPointerClickObservable.add((function(){Pn(pi,"Attack","weaponType")}));const ci=C.$n.CreateImageOnlyButton("but","res/assets/ZZZ/Icon_Defense.png");ci.height="40px",ci.width="40px",ci.left=212,ci.thickness=0,ci.cornerRadius=5,ci.isVisible=!1,Tn.addControl(ci),ci.onPointerClickObservable.add((function(){Pn(ci,"Defense","weaponType")}));const yi=C.$n.CreateImageOnlyButton("but","res/assets/ZZZ/Icon_Stun.png");yi.height="40px",yi.width="40px",yi.left=252,yi.thickness=0,yi.cornerRadius=5,yi.isVisible=!1,Tn.addControl(yi),yi.onPointerClickObservable.add((function(){Pn(yi,"Stun","weaponType")}));const hi=C.$n.CreateImageOnlyButton("but","res/assets/ZZZ/Icon_Support.png");function ui(){Mn.isVisible=!Mn.isVisible,Gn.isVisible=!Gn.isVisible,oi.isVisible=!oi.isVisible,si.isVisible=!si.isVisible,li.isVisible=!li.isVisible,di.isVisible=!di.isVisible,mi.isVisible=!mi.isVisible,gi.isVisible=!gi.isVisible,pi.isVisible=!pi.isVisible,ci.isVisible=!ci.isVisible,yi.isVisible=!yi.isVisible,hi.isVisible=!hi.isVisible,Cn.isVisible=!Cn.isVisible}hi.height="40px",hi.width="40px",hi.left=292,hi.thickness=0,hi.cornerRadius=5,hi.isVisible=!1,Tn.addControl(hi),hi.onPointerClickObservable.add((function(){Pn(hi,"Support","weaponType")}));const xi=new C.oE("scrollName");xi.thickness=0,sn.addControl(xi);let bi,wi,Ti=!1;xi.onPointerDownObservable.add((()=>{Ti=!0})),xi.onPointerUpObservable.add((()=>{Ti=!1}));let Si=new C.xA,Ci=10;function ki(e){Si.dispose(),Si=new C.xA,Ci=Math.ceil(e.length/5)+1,Si.removeRowDefinition,Si.color="black",Si.width="680px",Si.heightInPixels=Ci*Si.widthInPixels/5,Si.addColumnDefinition(.2),Si.addColumnDefinition(.2),Si.addColumnDefinition(.2),Si.addColumnDefinition(.2),Si.addColumnDefinition(.2);for(let e=0;e<Ci;e++)Si.addRowDefinition(1/Ci);xi.addControl(Si);let n=0;for(let i=0;i<Ci;i++)for(let a=0;a<5;a++)if(n>e.length-1){let e;"Genshin"==_e?(e=C.$n.CreateImageOnlyButton("but","res/charsPNG/Genshin/Paimon.png"),e.onPointerClickObservable.add((async function(){nn.isVisible=!nn.isVisible,"Paimon"!=ke&&await fi("Paimon")}))):"HSR"==_e?(e=C.$n.CreateImageOnlyButton("but","res/charsPNG/HSR/Pom-Pom.png"),e.onPointerClickObservable.add((async function(){nn.isVisible=!nn.isVisible,"Pom-Pom"!=ke&&await fi("Pom-Pom")}))):(e=C.$n.CreateImageOnlyButton("but","res/charsPNG/ZZZ/Bangboo.png"),e.onPointerClickObservable.add((async function(){nn.isVisible=!nn.isVisible,"Bangboo"!=ke&&await fi("Bangboo")}))),e.thickness=0,e.paddingBottom=e.paddingLeft=e.paddingRight=e.paddingTop=5,e.cornerRadius=10,Si.addControl(e,i,a)}else{const r=e[n],t=new C.tN;t.cornerRadius=10,t.thickness=0,t.paddingBottom=t.paddingTop=t.paddingRight=t.paddingLeft=5,t.background="rgb(123,92,144)",5==r.rarity?t.background="rgb(146,109,69)":6==r.rarity&&(t.background="rgb(192,79,85)"),Si.addControl(t,i,a);const o=C.$n.CreateImageOnlyButton("but",`res/charsPNG/${r.image}`);o.thickness=0,o.cornerRadius=10,o.paddingBottom=o.paddingTop=o.paddingRight=o.paddingLeft=4,Si.addControl(o,i,a),o.onPointerClickObservable.add((async function(){nn.isVisible=!nn.isVisible,(ke!=r.name||Se!=r._id&&1!=Qe)&&await fi(r.name,r._id)})),n+=1}}ki(xn);const _i={wasAnimationPlaying:!1,previousSeekTimeFrame:0,wasMuted:!1};async function fi(e,n){if(e){if(pe.isAnimationPlaying&&(_i.wasAnimationPlaying=!0),pe.pauseAnimation(),_i.previousSeekTimeFrame=pe.currentFrameTime,Te=ke,ke=e,en.text=ke,null!=We&&(We.isVisible=!1),Fe.dispose(!1,!0),ye.dispose(),re.restoreState(),pe.unregister(Q),pe=new P.j(Q),pe.loggingEnabled=!0,pe.register(Q),pe.setAudioPlayer(ce),ye=new z(Q,pe,ce,W),ye.showPlayerControl(),"Paimon"==ke||"Pom-Pom"==ke||"Bangboo"==ke)Qe=!1,Ce=K(r,ke),await vi(Ce);else if("Genshin"==_e){const e=U(B,ke);if(Te==ke)if(e.length>0&&!Qe){Ce=e[0],Qe=!0,await vi(Ce);let n=!1;e.length>1&&(n=!0),Je(!0,n,Ce.name)}else if(e.length>0&&Qe&&e.length>1){let n=!0,i=0;for(let n=0;n<e.length;n++)Ce._id===e[n]._id&&(i=n);const a=(i+1)%e.length;a==e.length-1&&(n=!1),i==e.length-1?(Ce=K(E,ke),Qe=!1):(Ce=e[a],Qe=!0),await vi(Ce),Je(!0,n,Ce.name)}else e.length>0&&Qe&&(Qe=!1,Ce=K(E,ke),await vi(Ce),Je(!0,!0,Ce.name));else Qe=!1,Ce=K(E,ke),await vi(Ce),e.length>0&&Je(!0,!0,Ce.name)}else if("HSR"==_e){const e=U(V,ke);if(Te==ke&&Se==Ce?._id)if(e.length>0&&!Qe){Ce=e[0],Qe=!0,await vi(Ce);let n=!1;e.length>1&&(n=!0),Je(!0,n,Ce.name)}else if(e.length>0&&Qe&&e.length>1){let n=!0,i=0;for(let n=0;n<e.length;n++)Ce._id===e[n]._id&&(i=n);const a=(i+1)%e.length;a==e.length-1&&(n=!1),i==e.length-1?(Ce=K(j,ke),Qe=!1):(Ce=e[a],Qe=!0),await vi(Ce),Je(!0,n,Ce.name)}else e.length>0&&Qe&&(Qe=!1,Ce=K(j,ke),await vi(Ce),Je(!0,!0,Ce.name));else Qe=!1,i=n,Ce=j.find((e=>e._id===i)),await vi(Ce),e.length>0&&Je(!0,!0,Ce.name)}else Qe=!1,Ce=K("Genshin"===_e?E:"HSR"===_e?j:"ZZZ"===_e?$:[],ke),await vi(Ce);var i;_i.wasAnimationPlaying?(pe.seekAnimation(_i.previousSeekTimeFrame,!0),_i.wasAnimationPlaying=!1,pe.isAnimationPlaying||pe.playAnimation()):(se.target=new h.Pq(0,10*ne,1),se.setPosition(te),Q.activeCameras[0]=se)}}async function vi(e){if(n.displayLoadingUI(),null!=We&&(We.isEnabled=!1),qe.isEnabled=!1,be=[],ue=[],Se=e._id,!(e&&e.directory&&e.pmx))throw new Error("Chosen character or its properties are undefined");be.push((0,m.kS)(e.directory+"/"+e.pmx,Q,{onProgress:e=>xe(2,`Loading model... ${e.loaded}/${e.total} (${Math.floor(100*e.loaded/e.total)}%)`),pluginOptions:{mmdmodel:{loggingEnabled:!0,materialBuilder:J}}})),Me=await Promise.all(be),Q.onAfterRenderObservable.addOnce((()=>{n.hideLoadingUI(),setTimeout((()=>{null!=We&&(We.isEnabled=!0),qe.isEnabled=!0}),1500)})),Ge=1.66,Re=69,Le=new h.uq,Pe=Me[0],Pe.addAllToScene(),Fe=Pe.rootNodes[0],Fe.parent=ie,ge.addShadowCaster(Fe);for(const e of Fe.metadata.meshes)e.receiveShadows=!0;Ae=pe.createMmdModel(Fe),Oe=Ae.runtimeBones.find((e=>"頭"===e.name)),Ne=Ae.runtimeBones.find((e=>"センター"===e.name)),Ee=new h.uq,null!=Oe&&null!=Ne&&(Ae.addAnimation(Ie),Ae.setAnimation("motion"),Q.onBeforeDrawPhaseObservable.addOnce((()=>{Oe.getWorldMatrixToRef(Le).multiplyToRef(Fe.getWorldMatrix(),Le),Le.getTranslationToRef(ae.position),ae.position.z=1,ae.position.x=0,Ge-=ae.position.y,Re=ae.position.y})),Q.onBeforeRenderObservable.add((()=>{Ne.getWorldMatrixToRef(Ee).multiplyToRef(Fe.getWorldMatrix(),Ee),Ee.getTranslationToRef(me.position),me.position.y-=10*ne}))),pe.setCamera(re),re.setAnimation("motion"),Q.onAfterRenderObservable.addOnce((()=>{Q.freezeMaterials();const e=Q.meshes;for(let n=0,i=e.length;n<i;++n){const i=e[n];i.freezeWorldMatrix(),i.doNotSyncBoundingInfo=!0,i.isPickable=!1,i.doNotSyncBoundingInfo=!0,i.alwaysSelectAsActiveMesh=!0}Q.skipPointerMovePicking=!0,Q.skipPointerDownPicking=!0,Q.skipPointerUpPicking=!0,Q.skipFrustumClipping=!0,Q.blockMaterialDirtyMechanism=!0}))}ae.position.x=ie.position.x,ae.position.y=ie.position.y,ae.position.z=ie.position.z,Q.onBeforeAnimationsObservable.add((()=>{Be=re.position.y/10,Ke.text=`${Q.activeCameras[0].name}`,ae.position.y=Be<Re&&0<Be?0-Ge*(Be/Re):Be<=0?0:0-Ge,re.parent=ae}));const Mi=new h.uq,Gi=new h.Pq,Ri=new h.Pq,Li=new h.Pq;Q.onBeforeRenderObservable.add((()=>{const e=re.rotation;h.uq.RotationYawPitchRollToRef(-e.y,-e.x,-e.z,Mi),h.Pq.TransformNormalFromFloatsToRef(0,0,1,Mi,Gi),re.position.addToRef(h.Pq.TransformCoordinatesFromFloatsToRef(0,0,re.distance,Mi,Ri),Ri),null!=Oe&&null!=Ne&&Oe.getWorldMatrixToRef(Le).getTranslationToRef(Li).subtractToRef(Ri,Li),De.depthOfField.focusDistance=h.Pq.Dot(Li,Gi)/h.Pq.Dot(Gi,Gi)*1e3}));let Pi=-1/0;if(e.onclick=()=>{const e=performance.now();300<e-Pi?Pi=e:(Pi=-1/0,Q.activeCameras[0]===re?(De.depthOfFieldEnabled=!1,oe.setTarget(new h.Pq(0,10*ne,1)),oe.setPosition(te),Q.activeCameras[0]=oe):(De.depthOfFieldEnabled=!1,Q.activeCameras[0]=re),Ke.text=`${Q.activeCameras[0].name}`)},document.body.addEventListener("keydown",(function(e){"Space"===e.code&&(e.preventDefault(),Q.activeCameras[0]===se&&(De.depthOfFieldEnabled=!1,pe.isAnimationPlaying||(Q.activeCameras[0]=re),Ke.text=`${Q.activeCameras[0].name}`),pe.isAnimationPlaying?pe.pauseAnimation():pe.playAnimation())})),Q.onPointerDown=function(e){rn||(an=window.setTimeout((()=>{tn=!1}),100)),function(e){Ti&&(bi=e.offsetY,wi=xi.verticalBar.value)}(e)},Q.onPointerUp=function(e){rn||(window.clearTimeout(an),tn&&(nn.isVisible=!1),tn=!0),Ti&&(bi=void 0)},Q.onPointerMove=function(e){!function(e){if(!Ti)return;if(void 0===bi)return;if(void 0===wi)return;let n=e.offsetY-bi;W&&(n*=3);const i=n/(Si.heightInPixels-xi.heightInPixels);xi.verticalBar.value=wi-i}(e)},"Genshin"==fe){const e=U(B,ke);e.length>0&&(Ce=e[0],Qe=!1,Je(!0,!0,Ce.name))}else if("HSR"==fe){bn();const e=U(V,ke);e.length>0&&(Ce=e[0],Qe=!1,Je(!0,!0,Ce.name))}else"ZZZ"==fe&&wn();return Q}}window.onload=()=>{const e=document.createElement("canvas");e.style.width="100%",e.style.height="100%",e.style.border="none",e.style.outline="none",document.body.appendChild(e);const n=new a.N(e,!1,{preserveDrawingBuffer:!1,stencil:!1,antialias:!0,alpha:!1,premultipliedAlpha:!1,powerPreference:"high-performance",doNotHandleTouchAction:!1,doNotHandleContextLost:!0,audioEngine:!1},!0);let i=window.location.pathname;console.log(i),i.endsWith("/")&&(i=i.slice(0,-1));const t=window.location.hostname.includes("localhost");console.log(t);const o=window.location.hostname.includes("github.io"),s=["model-viewer","docs"];let l="",d="";if(t)l="/",console.log(l),d=i.slice(1).replace(/\/$/,"")||"",console.log(d);else if(o)for(const e of s)if(i.includes(e)){const n=i.indexOf(e)+e.length;l=i.substring(0,i.lastIndexOf("/")),console.log(l),d=i.slice(n+1).replace(/\/$/,"")||"",console.log(d);break}d&&window.history.replaceState(null,"",l),r.Create({canvas:e,engine:n,sceneBuilder:new j},d).then((e=>e.run()))}},91903:()=>{},24394:()=>{},42634:()=>{}},r={};function t(e){var n=r[e];if(void 0!==n)return n.exports;var i=r[e]={exports:{}};return a[e].call(i.exports,i,i.exports,t),i.exports}t.m=a,t.amdO={},e=[],t.O=(n,i,a,r)=>{if(!i){var o=1/0;for(m=0;m<e.length;m++){for(var[i,a,r]=e[m],s=!0,l=0;l<i.length;l++)(!1&r||o>=r)&&Object.keys(t.O).every((e=>t.O[e](i[l])))?i.splice(l--,1):(s=!1,r<o&&(o=r));if(s){e.splice(m--,1);var d=a();void 0!==d&&(n=d)}}return n}r=r||0;for(var m=e.length;m>0&&e[m-1][2]>r;m--)e[m]=e[m-1];e[m]=[i,a,r]},t.d=(e,n)=>{for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})},t.f={},t.e=e=>Promise.all(Object.keys(t.f).reduce(((n,i)=>(t.f[i](e,n),n)),[])),t.u=e=>(({71:"glslShaders",126:"wgslShaders"}[e]||e)+".bundle.js"),t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),n={},i="model-viewer:",t.l=(e,a,r,o)=>{if(n[e])n[e].push(a);else{var s,l;if(void 0!==r)for(var d=document.getElementsByTagName("script"),m=0;m<d.length;m++){var g=d[m];if(g.getAttribute("src")==e||g.getAttribute("data-webpack")==i+r){s=g;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,t.nc&&s.setAttribute("nonce",t.nc),s.setAttribute("data-webpack",i+r),s.src=e),n[e]=[a];var p=(i,a)=>{s.onerror=s.onload=null,clearTimeout(c);var r=n[e];if(delete n[e],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((e=>e(a))),i)return i(a)},c=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),l&&document.head.appendChild(s)}},t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.p="",(()=>{t.b=document.baseURI||self.location.href;var e={792:0};t.f.j=(n,i)=>{var a=t.o(e,n)?e[n]:void 0;if(0!==a)if(a)i.push(a[2]);else{var r=new Promise(((i,r)=>a=e[n]=[i,r]));i.push(a[2]=r);var o=t.p+t.u(n),s=new Error;t.l(o,(i=>{if(t.o(e,n)&&(0!==(a=e[n])&&(e[n]=void 0),a)){var r=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.src;s.message="Loading chunk "+n+" failed.\n("+r+": "+o+")",s.name="ChunkLoadError",s.type=r,s.request=o,a[1](s)}}),"chunk-"+n,n)}},t.O.j=n=>0===e[n];var n=(n,i)=>{var a,r,[o,s,l]=i,d=0;if(o.some((n=>0!==e[n]))){for(a in s)t.o(s,a)&&(t.m[a]=s[a]);if(l)var m=l(t)}for(n&&n(i);d<o.length;d++)r=o[d],t.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return t.O(m)},i=self.webpackChunkmodel_viewer=self.webpackChunkmodel_viewer||[];i.forEach(n.bind(null,0)),i.push=n.bind(null,i.push.bind(i))})();var o=t.O(void 0,[281],(()=>t(36630)));o=t.O(o)})();